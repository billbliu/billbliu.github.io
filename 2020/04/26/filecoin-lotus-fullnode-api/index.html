<!DOCTYPE HTML>
<html lang="zh-CN">


<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="keywords" content="lotus FullNodeAPI接口分析, Golang Rus Bill 数据结构和算法 网络 设计模式">
    <meta name="baidu-site-verification" content="fmlEuI34ir">
    <meta name="google-site-verification" content="yCy2azpds5XSuGZvis6OuA-XIGF5GuGpYRAaGfD6o48">
    <meta name="360-site-verification" content="b7c11a830ef90fd1464ad6206bb7b6e7">
    <meta name="description" content="1、FullNodeAPI全节点接口
source

1.1 Lotus JSON-RPC APIJSON-RPC是在JSON中对远程过程调用进行编码的标准化方法。比特币和以太坊等项目已将其用于其API。
Lotus使用通过HTTP或Web">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>lotus FullNodeAPI接口分析 | bill的博客</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?ce84511d3df71640a9378a69f6293044";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

    
        <script>
            (function(){
                var bp = document.createElement('script');
                var curProtocol = window.location.protocol.split(':')[0];
                if (curProtocol === 'https') {
                    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
                }
                else {
                    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
                }
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(bp, s);
            })();
        </script>
    

    <script>
        (function(){
        var src = "https://jspassport.ssl.qhimg.com/11.0.1.js?d182b3f28525f2db83acfaaf6e696dba";
        document.write('<script src="' + src + '" id="sozz"><\/script>');
        })();
    </script>

<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body>

    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                        <img src="/medias/logo.png" class="circle logo-img" alt="LOGO">
                        
                            <span class="logo-span">
                                bill的博客
                            </span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <i class="fa fa-home"></i>
            
            <span>首页</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">
            
            <i class="fa fa-tags"></i>
            
            <span>标签</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <i class="fa fa-bookmark"></i>
            
            <span>分类</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <i class="fa fa-archive"></i>
            
            <span>归档</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <i class="fa fa-user-circle-o"></i>
            
            <span>关于</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/friends" class="waves-effect waves-light">
            
            <i class="fa fa-address-book"></i>
            
            <span>友情链接</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/contact" class="waves-effect waves-light">
            
            <i class="fa fa-comments"></i>
            
            <span>留言板</span>
        </a>
    </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="搜索"></i>
        </a>
    </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">bill的博客</div>
        <div class="logo-desc">
            
            华东交通大学 | 区块链工程师 | golang rust
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-home"></i>
                
                首页
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-tags"></i>
                
                标签
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-bookmark"></i>
                
                分类
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-archive"></i>
                
                归档
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-user-circle-o"></i>
                
                关于
            </a>
        </li>
        
        <li>
            <a href="/friends" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-address-book"></i>
                
                友情链接
            </a>
        </li>
        
        <li>
            <a href="/contact" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-comments"></i>
                
                留言板
            </a>
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/billbliu/hexo-matery-modified" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/billbliu/hexo-matery-modified" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
                
    </nav>

</header>
    



    <div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/21.jpg')">
        <div class="container">
            <div class="row">
                <div class="col s12 m12 l12">
                    <div class="brand">
                        <div class="description center-align post-title">
                            lotus FullNodeAPI接口分析
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/filecoin/" target="_blank">
                                    <span class="chip bg-color">
                                        filecoin
                                    </span>
                                </a>
                                
                                <a href="/tags/lotus/" target="_blank">
                                    <span class="chip bg-color">
                                        lotus
                                    </span>
                                </a>
                                
                        </div>
                        
                </div>
                <div class="col s5 right-align">
                    
                        <div class="post-cate">
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                                <a href="/categories/区块链/" class="post-category" target="_blank">
                                    区块链
                                </a>
                                
                        </div>
                        
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>
                    发布日期:&nbsp;&nbsp;
                        2020-04-26
                </div>

                <div class="post-author info-break-policy">
                    <i class="fa fa-user-o fa-fw"></i>
                    作者:&nbsp;&nbsp;
                        
                                    bill
                                        
                </div>

                
                    
                        <div class="info-break-policy">
                            <i class="fa fa-file-word-o fa-fw"></i>
                            文章字数:&nbsp;&nbsp;
                                9.9k
                        </div>
                        

                            
                                <div class="info-break-policy">
                                    <i class="fa fa-clock-o fa-fw"></i>
                                    阅读时长:&nbsp;&nbsp;
                                        52
                                            分
                                </div>
                                
                                    

                                        
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h2 id="1、FullNodeAPI全节点接口"><a href="#1、FullNodeAPI全节点接口" class="headerlink" title="1、FullNodeAPI全节点接口"></a>1、FullNodeAPI全节点接口</h2><ul>
<li><a href="https://github.com/filecoin-project/lotus/blob/master/api/api_full.go#L44" target="_blank" rel="noopener">source</a></li>
</ul>
<h3 id="1-1-Lotus-JSON-RPC-API"><a href="#1-1-Lotus-JSON-RPC-API" class="headerlink" title="1.1 Lotus JSON-RPC API"></a>1.1 Lotus JSON-RPC API</h3><p><a href="https://en.wikipedia.org/wiki/JSON-RPC" target="_blank" rel="noopener">JSON-RPC</a>是在JSON中对远程过程调用进行编码的标准化方法。<a href="https://en.bitcoin.it/wiki/API_reference_(JSON-RPC)" target="_blank" rel="noopener">比特币</a>和<a href="https://github.com/ethereum/wiki/wiki/JSON-RPC" target="_blank" rel="noopener">以太坊</a>等项目已将其用于其API。</p>
<p>Lotus使用通过HTTP或Websocket传输的JSON-RPC调用在不同的守护程序和命令行工具之间进行通信。</p>
<p>例如，当您使用来运行Lotus节点的<code>lotus daemon</code>，它将侦听TCP端口1234上的连接（默认情况下）。</p>
<p>应用程序可能会连接到此端口并发出JSON-RPC调用。</p>
<p>例如，使用<a href="https://curl.haxx.se/" target="_blank" rel="noopener">CURL</a>，如果我们想调用<a href="https://github.com/filecoin-project/lotus/blob/1120298b0520f0d5965b89abd71437f6d65496b7/api/apistruct/struct.go#L35" target="_blank" rel="noopener">Filecoin.Version</a>方法，我们可以这样做：</p>
<pre class="line-numbers language-sh"><code class="language-sh">curl -X POST \
  -H "Content-Type: application/json" \
  --data '{ 
      "jsonrpc": "2.0", 
      "method": "Filecoin.Version", 
      "params": [], 
      "id": 1 
    }' \
  http://192.168.1.71:1234/rpc/v0 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>例如，使用Go，如果我们想调用<a href="https://github.com/filecoin-project/lotus/blob/1120298b0520f0d5965b89abd71437f6d65496b7/api/apistruct/struct.go#L35" target="_blank" rel="noopener">Filecoin.Version</a>方法，我们可以这样做：</p>
<pre><code></code></pre><p>Lotus守护程序将返回类似于以下内容的响应：</p>
<p><a href="https://c.runoob.com/front-end/53" target="_blank" rel="noopener">json解析工具</a></p>
<pre class="line-numbers language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"jsonrpc"</span><span class="token operator">:</span> <span class="token string">"2.0"</span><span class="token punctuation">,</span>
  <span class="token property">"result"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"Version"</span><span class="token operator">:</span> <span class="token string">"1.8.0+mainnet+git.5c56017"</span><span class="token punctuation">,</span>
    <span class="token property">"APIVersion"</span><span class="token operator">:</span> <span class="token number">66048</span><span class="token punctuation">,</span>
    <span class="token property">"BlockDelay"</span><span class="token operator">:</span> <span class="token number">30</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"id"</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>大多数情况下，当您使用<code>lotus</code>命令行客户端运行命令时，例如，<code>lotus version</code>它实际上是使用WebSocket连接到守护程序，并且正在使用JSON-RPC执行方法。</p>
<p>Lotus的不同守护程序支持不同的方法集。执行时<code>lotus daemon</code>，它将在端口1234（默认）上侦听，公开用于钱包，交易，检查链同步状态等的JSON-RPC方法。运行时<code>lotus-storage-miner run</code>，它将在端口2345（默认）上侦听，并且有许多用于执行操作的方法，例如查询扇区的状态。</p>
<p>有关JSON-RPC API的更多详细信息，包括指向可用方法列表的链接，位于：<a href="https://docs.filecoin.io/reference/lotus-api" target="_blank" rel="noopener">docs.filecoin.io/reference/lotus-api</a></p>
<p>全节点分为几个模块的接口:</p>
<ul>
<li><p>Auth：身份验证相关接口</p>
</li>
<li><p>Net：网络相关接口</p>
</li>
<li><p>Common：一些常用接口</p>
</li>
<li><p>Chain：链相关接口</p>
</li>
<li><p>Beacon：随机信标相关接口</p>
</li>
<li><p>Gas：gas费用相关接口</p>
</li>
<li><p>Sync：同步相关接口</p>
</li>
<li><p>Mpool：消息池相关接口</p>
</li>
<li><p>Miner：矿工相关接口</p>
</li>
<li><p>Wallet：钱包相关接口</p>
</li>
<li><p>Client：存储、检索市场客户端相关接口</p>
</li>
<li><p>State：链状态相关接口</p>
</li>
<li><p>Msig：多签钱包相关接口</p>
</li>
<li><p>Market：market市场相关接口</p>
</li>
<li><p>Paych：支付渠道的交互和管理相关接口</p>
</li>
<li><p>Other：其他一些接口</p>
</li>
</ul>
<h2 id="2、Auth相关接口"><a href="#2、Auth相关接口" class="headerlink" title="2、Auth相关接口"></a>2、Auth相关接口</h2><ul>
<li><a href="https://github.com/filecoin-project/lotus/blob/master/api/api_common.go#L20" target="_blank" rel="noopener">source</a></li>
</ul>
<pre><code>AuthVerify(ctx context.Context, token string) ([]auth.Permission, error)
AuthNew(ctx context.Context, perms []auth.Permission) ([]byte, error)</code></pre><h2 id="3、Net相关接口"><a href="#3、Net相关接口" class="headerlink" title="3、Net相关接口"></a>3、Net相关接口</h2><ul>
<li><a href="https://github.com/filecoin-project/lotus/blob/master/api/api_common.go#L25" target="_blank" rel="noopener">source</a></li>
</ul>
<pre><code>NetConnectedness(context.Context, peer.ID) (network.Connectedness, error)
NetPeers(context.Context) ([]peer.AddrInfo, error)
NetConnect(context.Context, peer.AddrInfo) error
NetAddrsListen(context.Context) (peer.AddrInfo, error)
NetDisconnect(context.Context, peer.ID) error
NetFindPeer(context.Context, peer.ID) (peer.AddrInfo, error)
NetPubsubScores(context.Context) ([]PubsubScore, error)
NetAutoNatStatus(context.Context) (NatInfo, error)
NetAgentVersion(ctx context.Context, p peer.ID) (string, error)
NetPeerInfo(context.Context, peer.ID) (*ExtendedPeerInfo, error)
NetBandwidthStats(ctx context.Context) (metrics.Stats, error)
NetBandwidthStatsByPeer(ctx context.Context) (map[string]metrics.Stats, error)
NetBandwidthStatsByProtocol(ctx context.Context) (map[protocol.ID]metrics.Stats, error)
NetBlockAdd(ctx context.Context, acl NetBlockList) error
NetBlockRemove(ctx context.Context, acl NetBlockList) error
NetBlockList(ctx context.Context) (NetBlockList, error)</code></pre><h2 id="4、Common相关接口"><a href="#4、Common相关接口" class="headerlink" title="4、Common相关接口"></a>4、Common相关接口</h2><ul>
<li><a href="https://github.com/filecoin-project/lotus/blob/master/api/api_common.go#L55" target="_blank" rel="noopener">source</a></li>
</ul>
<pre><code>ID(context.Context) (peer.ID, error)
Version(context.Context) (Version, error)
LogList(context.Context) ([]string, error)
LogSetLevel(context.Context, string, string) error
Shutdown(context.Context) error
Session(context.Context) (uuid.UUID, error)
Closing(context.Context) (&lt;-chan struct{}, error)</code></pre><h2 id="5、Chain相关接口"><a href="#5、Chain相关接口" class="headerlink" title="5、Chain相关接口"></a>5、Chain相关接口</h2><ul>
<li><a href="https://github.com/filecoin-project/lotus/blob/master/api/api_full.go#L48" target="_blank" rel="noopener">source</a></li>
</ul>
<p>Chain方法组包含与区块链交互的方法，但不需要任何形式的状态计算。</p>
<pre><code>ChainNotify(context.Context) (&lt;-chan []*HeadChange, error)
ChainHead(context.Context) (*types.TipSet, error)
ChainGetRandomnessFromTickets(ctx context.Context, tsk types.TipSetKey, personalization crypto.DomainSeparationTag, randEpoch abi.ChainEpoch, entropy []byte) (abi.Randomness, error)
ChainGetRandomnessFromBeacon(ctx context.Context, tsk types.TipSetKey, personalization crypto.DomainSeparationTag, randEpoch abi.ChainEpoch, entropy []byte) (abi.Randomness, error)
ChainGetBlock(context.Context, cid.Cid) (*types.BlockHeader, error)
ChainGetTipSet(context.Context, types.TipSetKey) (*types.TipSet, error)
ChainGetBlockMessages(ctx context.Context, blockCid cid.Cid) (*BlockMessages, error)
ChainGetParentReceipts(ctx context.Context, blockCid cid.Cid) ([]*types.MessageReceipt, error)
ChainGetParentMessages(ctx context.Context, blockCid cid.Cid) ([]Message, error)
ChainGetTipSetByHeight(context.Context, abi.ChainEpoch, types.TipSetKey) (*types.TipSet, error)
ChainReadObj(context.Context, cid.Cid) ([]byte, error)
ChainDeleteObj(context.Context, cid.Cid) error
ChainHasObj(context.Context, cid.Cid) (bool, error)
ChainStatObj(ctx context.Context, obj cid.Cid, base cid.Cid) (ObjStat, error)
ChainSetHead(context.Context, types.TipSetKey) error
ChainGetGenesis(context.Context) (*types.TipSet, error)
ChainTipSetWeight(context.Context, types.TipSetKey) (types.BigInt, error)
ChainGetNode(ctx context.Context, p string) (*IpldObject, error)
ChainGetMessage(context.Context, cid.Cid) (*types.Message, error)
ChainGetPath(ctx context.Context, from types.TipSetKey, to types.TipSetKey) ([]*HeadChange, error)
ChainExport(ctx context.Context, nroots abi.ChainEpoch, oldmsgskip bool, tsk types.TipSetKey) (&lt;-chan []byte, error)</code></pre><h3 id="5-1-ChainNotify"><a href="#5-1-ChainNotify" class="headerlink" title="5.1 ChainNotify"></a>5.1 ChainNotify</h3><pre><code>// ChainNotify返回链头更新的channel。第一条消息保证len == 1, type == &#39;current&#39;。
ChainNotify(context.Context) (&lt;-chan []*HeadChange, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>&lt;-chan []*HeadChange链头更新的channel</li>
<li>error</li>
</ul>
<h3 id="5-2-ChainHead"><a href="#5-2-ChainHead" class="headerlink" title="5.2 ChainHead"></a>5.2 ChainHead</h3><pre><code>// ChainHead返回当前的链头。
ChainHead(context.Context) (*types.TipSet, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*types.TipSet当前链头所对应的TipSet</li>
<li>error</li>
</ul>
<h3 id="5-3-ChainGetRandomnessFromTickets"><a href="#5-3-ChainGetRandomnessFromTickets" class="headerlink" title="5.3 ChainGetRandomnessFromTickets"></a>5.3 ChainGetRandomnessFromTickets</h3><pre><code>// ChainGetRandomnessFromTickets用于对链进行随机抽样
ChainGetRandomnessFromTickets(ctx context.Context, tsk types.TipSetKey, personalization crypto.DomainSeparationTag, randEpoch abi.ChainEpoch, entropy []byte) (abi.Randomness, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>tsk types.TipSetKey</li>
<li>personalization crypto.DomainSeparationTag</li>
<li>randEpoch abi.ChainEpoch</li>
<li>entropy []byte</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>abi.Randomness一串随机的字节</li>
<li>error</li>
</ul>
<h3 id="5-4-ChainGetRandomnessFromBeacon"><a href="#5-4-ChainGetRandomnessFromBeacon" class="headerlink" title="5.4 ChainGetRandomnessFromBeacon"></a>5.4 ChainGetRandomnessFromBeacon</h3><pre><code>// ChainGetRandomnessFromBeacon用于对信标进行随机抽样
ChainGetRandomnessFromBeacon(ctx context.Context, tsk types.TipSetKey, personalization crypto.DomainSeparationTag, randEpoch abi.ChainEpoch, entropy []byte) (abi.Randomness, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>tsk types.TipSetKey</li>
<li>personalization crypto.DomainSeparationTag</li>
<li>randEpoch abi.ChainEpoch</li>
<li>entropy []byte</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>abi.Randomness一串随机的字节</li>
<li>error</li>
</ul>
<h3 id="5-5-ChainGetBlock"><a href="#5-5-ChainGetBlock" class="headerlink" title="5.5 ChainGetBlock"></a>5.5 ChainGetBlock</h3><pre><code>// ChainGetBlock 通过给定的Cid取出指定的Block区块
ChainGetBlock(context.Context, cid.Cid) (*types.BlockHeader, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>cid.Cid</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*types.BlockHeader保存Block信息的结构体</li>
<li>error</li>
</ul>
<h3 id="5-6-ChainGetTipSet"><a href="#5-6-ChainGetTipSet" class="headerlink" title="5.6 ChainGetTipSet"></a>5.6 ChainGetTipSet</h3><pre><code>// ChainGetTipSet 通过给定的TipSetKey取出指定的TipSet
ChainGetTipSet(context.Context, types.TipSetKey) (*types.TipSet, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>types.TipSetKey是一个不可变的cid集合，它为一个tipse生成一个唯一的key</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*types.TipSet</li>
<li>error</li>
</ul>
<h3 id="5-7-ChainGetBlockMessages"><a href="#5-7-ChainGetBlockMessages" class="headerlink" title="5.7 ChainGetBlockMessages"></a>5.7 ChainGetBlockMessages</h3><pre><code>// ChainGetBlockMessages 通过区块cid取出区块中所有的消息
ChainGetBlockMessages(ctx context.Context, blockCid cid.Cid) (*BlockMessages, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>blockCid cid.Cid</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*BlockMessages 区块保存所有消息的结构体</li>
<li>error</li>
</ul>
<h3 id="5-8-ChainGetParentReceipts"><a href="#5-8-ChainGetParentReceipts" class="headerlink" title="5.8 ChainGetParentReceipts"></a>5.8 ChainGetParentReceipts</h3><pre><code>// ChainGetParentReceipts返回指定块的父参数集中的消息收据。
ChainGetParentReceipts(ctx context.Context, blockCid cid.Cid) ([]*types.MessageReceipt, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>blockCid cid.Cid</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>[]*types.MessageReceipt 消息的收据(执行结果、返回内容、使用多少Gas等)</li>
<li>error</li>
</ul>
<h3 id="5-9-ChainGetParentMessages"><a href="#5-9-ChainGetParentMessages" class="headerlink" title="5.9 ChainGetParentMessages"></a>5.9 ChainGetParentMessages</h3><pre><code>// ChainGetParentMessages返回指定块的父区块的消息集合。
ChainGetParentMessages(ctx context.Context, blockCid cid.Cid) ([]Message, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>blockCid cid.Cid</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>[]Message</li>
<li>error</li>
</ul>
<h3 id="5-10-ChainGetTipSetByHeight"><a href="#5-10-ChainGetTipSetByHeight" class="headerlink" title="5.10 ChainGetTipSetByHeight"></a>5.10 ChainGetTipSetByHeight</h3><pre><code>// ChainGetTipSetByHeight查找指定epoch的tipset，如果在指定的epoch中没有块，则返回上一个epoch的一个tipset。ChainGetTipSetByHeight(context.Context, abi.ChainEpoch, types.TipSetKey) (*types.TipSet, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>abi.ChainEpoch</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*types.TipSet</li>
<li>error</li>
</ul>
<p><strong>go实现：</strong></p>
<pre class="line-numbers language-go"><code class="language-go"><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    url <span class="token operator">:=</span> <span class="token string">"http://192.168.1.71:1234/rpc/v0"</span>
    method <span class="token operator">:=</span> <span class="token string">"POST"</span>

    payload <span class="token operator">:=</span> strings<span class="token punctuation">.</span><span class="token function">NewReader</span><span class="token punctuation">(</span><span class="token string">`{
"jsonrpc": "2.0",
"method": "Filecoin.ChainGetTipSetByHeight",
"id": 1,
"params": [1, null]
}`</span><span class="token punctuation">)</span>
    startTime <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    client <span class="token operator">:=</span> <span class="token operator">&amp;</span>http<span class="token punctuation">.</span>Client<span class="token punctuation">{</span><span class="token punctuation">}</span>
    req<span class="token punctuation">,</span> err <span class="token operator">:=</span> http<span class="token punctuation">.</span><span class="token function">NewRequest</span><span class="token punctuation">(</span>method<span class="token punctuation">,</span> url<span class="token punctuation">,</span> payload<span class="token punctuation">)</span>

    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"Content-Type"</span><span class="token punctuation">,</span> <span class="token string">"application/json"</span><span class="token punctuation">)</span>
    req<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token string">"Authorization"</span><span class="token punctuation">,</span> <span class="token string">"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJBbGxvdyI6WyJyZWFkIiwid3JpdGUiLCJzaWduIiwiYWRtaW4iXX0.TrxhxiEhw0fq-KiK1j3JALnDb9Z7MNicVl57lQL4SCU"</span><span class="token punctuation">)</span>

    res<span class="token punctuation">,</span> err <span class="token operator">:=</span> client<span class="token punctuation">.</span><span class="token function">Do</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">defer</span> res<span class="token punctuation">.</span>Body<span class="token punctuation">.</span><span class="token function">Close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    body<span class="token punctuation">,</span> err <span class="token operator">:=</span> ioutil<span class="token punctuation">.</span><span class="token function">ReadAll</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>Body<span class="token punctuation">)</span>
    <span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token function">string</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">)</span>
    tc <span class="token operator">:=</span> time<span class="token punctuation">.</span><span class="token function">Since</span><span class="token punctuation">(</span>startTime<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Printf</span><span class="token punctuation">(</span><span class="token string">"Filecoin.ChainGetTipSetByHeight time: %d ms\n"</span><span class="token punctuation">,</span> tc<span class="token punctuation">.</span><span class="token function">Milliseconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="5-11-ChainReadObj"><a href="#5-11-ChainReadObj" class="headerlink" title="5.11 ChainReadObj"></a>5.11 ChainReadObj</h3><pre><code>// ChainReadObj从chain blockstore中读取指定cid引用的ipld节点，并返回原始字节。
ChainReadObj(context.Context, cid.Cid) ([]byte, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>cid.Cid</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>[]byte</li>
<li>error</li>
</ul>
<h3 id="5-12-ChainDeleteObj"><a href="#5-12-ChainDeleteObj" class="headerlink" title="5.12 ChainDeleteObj"></a>5.12 ChainDeleteObj</h3><pre><code>// ChainDeleteObj删除给定cid引用的ipld节点.
ChainDeleteObj(context.Context, cid.Cid) error</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>cid.Cid</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>error</li>
</ul>
<h3 id="5-13-ChainHasObj"><a href="#5-13-ChainHasObj" class="headerlink" title="5.13 ChainHasObj"></a>5.13 ChainHasObj</h3><pre><code>// ChainHasObj检查一个给定的cid是否存在于链的blockstore中。
ChainHasObj(context.Context, cid.Cid) (bool, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>cid.Cid</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>bool</li>
<li>error</li>
</ul>
<h3 id="5-14-ChainHasObj"><a href="#5-14-ChainHasObj" class="headerlink" title="5.14 ChainHasObj"></a>5.14 ChainHasObj</h3><pre><code>// ChainStatObj返回&#39;obj&#39;引用的图形的统计信息。如果还指定了“base”，那么返回的stat将是两个对象之间的差异。
ChainStatObj(ctx context.Context, obj cid.Cid, base cid.Cid) (ObjStat, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>obj cid.Cid</li>
<li>base cid.Cid</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>ObjStat</li>
<li>error</li>
</ul>
<h3 id="5-15-ChainSetHead"><a href="#5-15-ChainSetHead" class="headerlink" title="5.15 ChainSetHead"></a>5.15 ChainSetHead</h3><pre><code>// ChainSetHead强制设置当前链头
ChainSetHead(context.Context, types.TipSetKey) error</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>error</li>
</ul>
<h3 id="5-16-ChainGetGenesis"><a href="#5-16-ChainGetGenesis" class="headerlink" title="5.16 ChainGetGenesis"></a>5.16 ChainGetGenesis</h3><pre><code>// ChainGetGenesis返回创世的TipSet
ChainGetGenesis(context.Context) (*types.TipSet, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*types.TipSet</li>
<li>error</li>
</ul>
<h3 id="5-17-ChainTipSetWeight"><a href="#5-17-ChainTipSetWeight" class="headerlink" title="5.17 ChainTipSetWeight"></a>5.17 ChainTipSetWeight</h3><pre><code>// ChainTipSetWeight计算指定的TipSet的权重。
ChainTipSetWeight(context.Context, types.TipSetKey) (types.BigInt, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>types.BigInt</li>
<li>error</li>
</ul>
<h3 id="5-18-ChainGetNode"><a href="#5-18-ChainGetNode" class="headerlink" title="5.18 ChainGetNode"></a>5.18 ChainGetNode</h3><pre><code>// ChainGetNode通过p获取对应的IpldObject
ChainGetNode(ctx context.Context, p string) (*IpldObject, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>p string</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*IpldObject</li>
<li>error</li>
</ul>
<h3 id="5-19-ChainGetMessage"><a href="#5-19-ChainGetMessage" class="headerlink" title="5.19 ChainGetMessage"></a>5.19 ChainGetMessage</h3><pre><code>// ChainGetMessage从链块存储(blockstore)中读取指定cid引用的消息。
ChainGetMessage(context.Context, cid.Cid) (*types.Message, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>cid.Cid</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*types.Message</li>
<li>error</li>
</ul>
<h3 id="5-20-ChainGetPath"><a href="#5-20-ChainGetPath" class="headerlink" title="5.20 ChainGetPath"></a>5.20 ChainGetPath</h3><pre><code>// ChainGetPath返回从一个tipset到另一个tipset所需的一组revert/apply操作，例如:
//```
//        to
//         ^
// from   tAA
//   ^     ^
// tBA    tAB
//  ^---*--^
//      ^
//     tRR
//```
// Would return `[revert(tBA), apply(tAB), apply(tAA)]`
// 链被fork的时候用到
ChainGetPath(ctx context.Context, from types.TipSetKey, to types.TipSetKey) ([]*HeadChange, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>from types.TipSetKey</li>
<li>to types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>[]*HeadChange链头改变时对应的TipSet和类型(revert,apply)</li>
<li>error</li>
</ul>
<h3 id="5-21-ChainExport"><a href="#5-21-ChainExport" class="headerlink" title="5.21 ChainExport"></a>5.21 ChainExport</h3><pre><code>//ChainExport返回一个转存链数据的CAR的字节流。导出的链数据包括从给定的tipset返回到起源的头链、整个genesis状态和最近的&#39;nroot &#39;状态树。如果设置了oldmsgskip，则来自请求根目录之前的消息也不包括在内。
ChainExport(ctx context.Context, nroots abi.ChainEpoch, oldmsgskip bool, tsk types.TipSetKey) (&lt;-chan []byte, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>nroots abi.ChainEpoch</li>
<li>oldmsgskip bool</li>
<li>tsk types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>&lt;-chan []byte</li>
<li>error</li>
</ul>
<h2 id="6、Beacon相关接口"><a href="#6、Beacon相关接口" class="headerlink" title="6、Beacon相关接口"></a>6、Beacon相关接口</h2><ul>
<li><a href="https://github.com/filecoin-project/lotus/blob/master/api/api_full.go#L152" target="_blank" rel="noopener">source</a></li>
</ul>
<p>Beacon方法包含用于与随机信标(DRAND)交互的方法。</p>
<pre><code>BeaconGetEntry(ctx context.Context, epoch abi.ChainEpoch) (*types.BeaconEntry, error)</code></pre><h3 id="6-1-BeaconGetEntry"><a href="#6-1-BeaconGetEntry" class="headerlink" title="6.1 BeaconGetEntry"></a>6.1 BeaconGetEntry</h3><p>BeaconGetEntry返回给定filecoin epoch的beacon entry。如果entry尚未生成，将会阻塞，直到entry可用为止。</p>
<p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>epoch abi.ChainEpoch</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*types.BeaconEntry</li>
<li>error</li>
</ul>
<h2 id="7、Gas费用相关接口"><a href="#7、Gas费用相关接口" class="headerlink" title="7、Gas费用相关接口"></a>7、Gas费用相关接口</h2><ul>
<li><a href="https://github.com/filecoin-project/lotus/blob/master/api/api_full.go#L157" target="_blank" rel="noopener">source</a></li>
</ul>
<pre><code>GasEstimateFeeCap(context.Context, *types.Message, int64, types.TipSetKey) (types.BigInt, error)
GasEstimateGasLimit(context.Context, *types.Message, types.TipSetKey) (int64, error)
GasEstimateGasPremium(_ context.Context, nblocksincl uint64, sender address.Address, gaslimit int64, tsk types.TipSetKey) (types.BigInt, error)
GasEstimateMessageGas(context.Context, *types.Message, *MessageSendSpec, types.TipSetKey) (*types.Message, error)</code></pre><h3 id="7-1-GasEstimateFeeCap"><a href="#7-1-GasEstimateFeeCap" class="headerlink" title="7.1 GasEstimateFeeCap"></a>7.1 GasEstimateFeeCap</h3><pre><code>// GasEstimateFeeCap 估算gas费用的上限
GasEstimateFeeCap(context.Context, *types.Message, int64, types.TipSetKey) (types.BigInt, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>*types.Message</li>
<li>int64</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>types.BigInt</li>
<li>error</li>
</ul>
<h3 id="7-2-GasEstimateGasLimit"><a href="#7-2-GasEstimateGasLimit" class="headerlink" title="7.2 GasEstimateGasLimit"></a>7.2 GasEstimateGasLimit</h3><pre><code>// GasEstimateGasLimit估计消息使用的gas量并返回它。如果消息未能执行，则失败。
GasEstimateGasLimit(context.Context, *types.Message, types.TipSetKey) (int64, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>*types.Message</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>int64</li>
<li>error</li>
</ul>
<h3 id="7-3-GasEstimateGasPremium"><a href="#7-3-GasEstimateGasPremium" class="headerlink" title="7.3 GasEstimateGasPremium"></a>7.3 GasEstimateGasPremium</h3><pre><code>// GasEstimateGasPremium估计了在“nblocksincl”epoch中可能包含的消息应该使用的gas价格。
GasEstimateGasPremium(_ context.Context, nblocksincl uint64,sender address.Address, gaslimit int64, tsk types.TipSetKey) (types.BigInt, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>nblocksincl uint64</li>
<li>sender address.Address</li>
<li>gaslimit int64</li>
<li>tsk types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>types.BigInt</li>
<li>error</li>
</ul>
<h3 id="7-4-GasEstimateMessageGas"><a href="#7-4-GasEstimateMessageGas" class="headerlink" title="7.4 GasEstimateMessageGas"></a>7.4 GasEstimateMessageGas</h3><pre><code>// GasEstimateMessageGas估计未设置的消息gas属性的gas值
GasEstimateMessageGas(context.Context, *types.Message, *MessageSendSpec, types.TipSetKey) (*types.Message, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>*types.Message</li>
<li>*MessageSendSpec</li>
<li>tsk types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*types.Message</li>
<li>error</li>
</ul>
<h2 id="8、Sync相关接口"><a href="#8、Sync相关接口" class="headerlink" title="8、Sync相关接口"></a>8、Sync相关接口</h2><ul>
<li><a href="https://github.com/filecoin-project/lotus/blob/master/api/api_full.go#L173" target="_blank" rel="noopener">source</a></li>
</ul>
<p>Sync方法组包含与lotus Sync服务交互和观察的方法。</p>
<pre><code>SyncState(context.Context) (*SyncState, error)
SyncSubmitBlock(ctx context.Context, blk *types.BlockMsg) error
SyncIncomingBlocks(ctx context.Context) (&lt;-chan *types.BlockHeader, error)
SyncCheckpoint(ctx context.Context, tsk types.TipSetKey) error
SyncMarkBad(ctx context.Context, bcid cid.Cid) error
SyncUnmarkBad(ctx context.Context, bcid cid.Cid) error
SyncUnmarkAllBad(ctx context.Context) error
SyncCheckBad(ctx context.Context, bcid cid.Cid) (string, error)
SyncValidateTipset(ctx context.Context, tsk types.TipSetKey) (bool, error)</code></pre><h3 id="8-1-SyncState"><a href="#8-1-SyncState" class="headerlink" title="8.1 SyncState"></a>8.1 SyncState</h3><pre><code>// SyncState返回lotus同步系统的当前状态。
SyncState(context.Context) (*SyncState, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*SyncState</li>
<li>error</li>
</ul>
<h3 id="8-2-SyncSubmitBlock"><a href="#8-2-SyncSubmitBlock" class="headerlink" title="8.2 SyncSubmitBlock"></a>8.2 SyncSubmitBlock</h3><pre><code>// SyncSubmitBlock可用于通过该节点向网络提交新创建的块
SyncSubmitBlock(ctx context.Context, blk *types.BlockMsg) error</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>blk *types.BlockMsg</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>error</li>
</ul>
<h3 id="8-3-SyncIncomingBlocks"><a href="#8-3-SyncIncomingBlocks" class="headerlink" title="8.3 SyncIncomingBlocks"></a>8.3 SyncIncomingBlocks</h3><pre><code>// SyncIncomingBlocks返回一个流传入的channel，同步可能还没有同步块头。
SyncIncomingBlocks(ctx context.Context) (&lt;-chan *types.BlockHeader, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>&lt;-chan *types.BlockHeader</li>
<li>error</li>
</ul>
<h3 id="8-4-SyncCheckpoint"><a href="#8-4-SyncCheckpoint" class="headerlink" title="8.4 SyncCheckpoint"></a>8.4 SyncCheckpoint</h3><pre><code>// SyncCheckpoint将一个块标记为检查点，这意味着它永远不会离开它。
SyncCheckpoint(ctx context.Context, tsk types.TipSetKey) error</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>tsk types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>error</li>
</ul>
<h3 id="8-5-SyncMarkBad"><a href="#8-5-SyncMarkBad" class="headerlink" title="8.5 SyncMarkBad"></a>8.5 SyncMarkBad</h3><pre><code>// SyncMarkBad将一个块标记为bad，意味着它永远不会被同步。
SyncMarkBad(ctx context.Context, bcid cid.Cid) error</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>bcid cid.Cid</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>error</li>
</ul>
<h3 id="8-6-SyncUnmarkBad"><a href="#8-6-SyncUnmarkBad" class="headerlink" title="8.6 SyncUnmarkBad"></a>8.6 SyncUnmarkBad</h3><pre><code>// SyncUnmarkBad将代码块解除bad标记，这样就可以再次验证和同步。
SyncUnmarkBad(ctx context.Context, bcid cid.Cid) error</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>bcid cid.Cid</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>error</li>
</ul>
<h3 id="8-7-SyncUnmarkAllBad"><a href="#8-7-SyncUnmarkAllBad" class="headerlink" title="8.7 SyncUnmarkAllBad"></a>8.7 SyncUnmarkAllBad</h3><pre><code>// SyncUnmarkAllBad清除坏块缓存，使同步到之前标记为坏的链成为可能。
SyncUnmarkAllBad(ctx context.Context) error</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>error</li>
</ul>
<h3 id="8-8-SyncCheckBad"><a href="#8-8-SyncCheckBad" class="headerlink" title="8.8 SyncCheckBad"></a>8.8 SyncCheckBad</h3><pre><code>// SyncCheckBad检查一个块是否被标记为bad，如果是，返回原因。
SyncCheckBad(ctx context.Context, bcid cid.Cid) (string, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>bcid cid.Cid</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>string</li>
<li>error</li>
</ul>
<h3 id="8-9-SyncValidateTipset"><a href="#8-9-SyncValidateTipset" class="headerlink" title="8.9 SyncValidateTipset"></a>8.9 SyncValidateTipset</h3><pre><code>// SyncValidateTipset指示提供的tipset是否有效。
SyncValidateTipset(ctx context.Context, tsk types.TipSetKey) (bool, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>tsk types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>bool</li>
<li>error</li>
</ul>
<h2 id="9、Mpool相关接口"><a href="#9、Mpool相关接口" class="headerlink" title="9、Mpool相关接口"></a>9、Mpool相关接口</h2><ul>
<li><a href="https://github.com/filecoin-project/lotus/blob/master/api/api_full.go#L208" target="_blank" rel="noopener">source</a></li>
</ul>
<p>Mpool方法用于与消息池交互。消息池管理通过网络发送的所有传入和传出的“消息”。</p>
<pre><code>MpoolPending(context.Context, types.TipSetKey) ([]*types.SignedMessage, error)
MpoolSelect(context.Context, types.TipSetKey, float64) ([]*types.SignedMessage, error)
MpoolPush(context.Context, *types.SignedMessage) (cid.Cid, error)
MpoolPushUntrusted(context.Context, *types.SignedMessage) (cid.Cid, error)
MpoolPushMessage(ctx context.Context, msg *types.Message, spec *MessageSendSpec) (*types.SignedMessage, error)
MpoolBatchPush(context.Context, []*types.SignedMessage) ([]cid.Cid, error)
MpoolBatchPushUntrusted(context.Context, []*types.SignedMessage) ([]cid.Cid, error)
MpoolBatchPushMessage(context.Context, []*types.Message, *MessageSendSpec) ([]*types.SignedMessage, error)
MpoolGetNonce(context.Context, address.Address) (uint64, error)
MpoolSub(context.Context) (&lt;-chan MpoolUpdate, error)
MpoolClear(context.Context, bool) error
MpoolSetConfig(context.Context, *types.MpoolConfig) error</code></pre><h3 id="9-1-MpoolPending"><a href="#9-1-MpoolPending" class="headerlink" title="9.1 MpoolPending"></a>9.1 MpoolPending</h3><pre><code>// MpoolPending返回挂起的内存池消息。
MpoolPending(context.Context, types.TipSetKey) ([]*types.SignedMessage, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>[]*types.SignedMessage</li>
<li>error</li>
</ul>
<h3 id="9-2-MpoolSelect"><a href="#9-2-MpoolSelect" class="headerlink" title="9.2 MpoolSelect"></a>9.2 MpoolSelect</h3><pre><code>// MpoolSelect返回一个挂起消息列表，以便包含在下一个块中。
MpoolSelect(context.Context, types.TipSetKey, float64) ([]*types.SignedMessage, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>types.TipSetKey</li>
<li>float64</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>[]*types.SignedMessage</li>
<li>error</li>
</ul>
<h3 id="9-3-MpoolPush"><a href="#9-3-MpoolPush" class="headerlink" title="9.3 MpoolPush"></a>9.3 MpoolPush</h3><pre><code>// MpoolPush将已签名的消息推送到内存池。
MpoolPush(context.Context, *types.SignedMessage) (cid.Cid, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>*types.SignedMessage</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>cid.Cid</li>
<li>error</li>
</ul>
<h3 id="9-4-MpoolPushUntrusted"><a href="#9-4-MpoolPushUntrusted" class="headerlink" title="9.4 MpoolPushUntrusted"></a>9.4 MpoolPushUntrusted</h3><pre><code>// MpoolPushUntrusted将一条已签名的消息从不受信任的源推送到mempool。
MpoolPushUntrusted(context.Context, *types.SignedMessage) (cid.Cid, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>cid.Cid</li>
<li>error</li>
</ul>
<h3 id="9-5-MpoolPushMessage"><a href="#9-5-MpoolPushMessage" class="headerlink" title="9.5 MpoolPushMessage"></a>9.5 MpoolPushMessage</h3><pre><code>// MpoolPushMessage自动分配一个nonce、signs,并将消息推送到mempool。
// MessageSendSpec.MaxFee仅在GasFeeCap/GasPremium字段未指定时使用。当maxFee设置为0时，MpoolPushMessage将根据当前的链条件猜测适当的费用。
MpoolPushMessage(ctx context.Context, msg *types.Message, spec *MessageSendSpec) (*types.SignedMessage, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>msg *types.Message</li>
<li>spec *MessageSendSpec</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>[]*types.SignedMessage</li>
<li>error</li>
</ul>
<h3 id="9-6-MpoolBatchPush"><a href="#9-6-MpoolBatchPush" class="headerlink" title="9.6 MpoolBatchPush"></a>9.6 MpoolBatchPush</h3><pre><code>// MpoolBatchPush批量将已签名的消息推送到内存池。
MpoolBatchPush(context.Context, []*types.SignedMessage) ([]cid.Cid, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>[]*types.SignedMessage</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>[]cid.Cid</li>
<li>error</li>
</ul>
<h3 id="9-7-MpoolBatchPushUntrusted"><a href="#9-7-MpoolBatchPushUntrusted" class="headerlink" title="9.7 MpoolBatchPushUntrusted"></a>9.7 MpoolBatchPushUntrusted</h3><pre><code>// MpoolBatchPushUntrusted批量将已签名的消息从不受信任的源推送到mempool。
MpoolBatchPushUntrusted(context.Context, []*types.SignedMessage) ([]cid.Cid, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>[]*types.SignedMessage</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>[]cid.Cid</li>
<li>error</li>
</ul>
<h3 id="9-8-MpoolBatchPushMessage"><a href="#9-8-MpoolBatchPushMessage" class="headerlink" title="9.8 MpoolBatchPushMessage"></a>9.8 MpoolBatchPushMessage</h3><pre><code>// MpoolBatchPushMessage批量将未签名消息推送到内存池。
MpoolBatchPushMessage(context.Context, []*types.Message, *MessageSendSpec) ([]*types.SignedMessage, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>[]*types.Message</li>
<li>*MessageSendSpec</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>[]*types.SignedMessage</li>
<li>error</li>
</ul>
<h3 id="9-9-MpoolGetNonce"><a href="#9-9-MpoolGetNonce" class="headerlink" title="9.9 MpoolGetNonce"></a>9.9 MpoolGetNonce</h3><pre><code>// MpoolGetNonce获取指定发送方的下一个nonce。注意，这个方法可能不是原子的。使用MpoolPushMessage代替。
MpoolGetNonce(context.Context, address.Address) (uint64, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>uint64</li>
<li>error</li>
</ul>
<h3 id="9-10-MpoolSub"><a href="#9-10-MpoolSub" class="headerlink" title="9.10 MpoolSub"></a>9.10 MpoolSub</h3><pre><code>// MpoolSub。
MpoolSub(context.Context) (&lt;-chan MpoolUpdate, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>&lt;-chan MpoolUpdate</li>
<li>error</li>
</ul>
<h3 id="9-11-MpoolClear"><a href="#9-11-MpoolClear" class="headerlink" title="9.11 MpoolClear"></a>9.11 MpoolClear</h3><pre><code>// MpoolClear清除mpool中挂起的消息。
MpoolClear(context.Context, bool) error</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>bool</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>error</li>
</ul>
<h3 id="9-12-MpoolGetConfig"><a href="#9-12-MpoolGetConfig" class="headerlink" title="9.12 MpoolGetConfig"></a>9.12 MpoolGetConfig</h3><pre><code>// MpoolGetConfig返回当前mpool配置(副本)。
MpoolGetConfig(context.Context) (*types.MpoolConfig, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*types.MpoolConfig</li>
<li>error</li>
</ul>
<h3 id="9-13-MpoolSetConfig"><a href="#9-13-MpoolSetConfig" class="headerlink" title="9.13 MpoolSetConfig"></a>9.13 MpoolSetConfig</h3><pre><code>// MpoolSetConfig将mpool配置设置为所提供的配置(副本)。
MpoolSetConfig(context.Context, *types.MpoolConfig) error</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>*types.MpoolConfig</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>error</li>
</ul>
<h2 id="10、-Miner相关接口"><a href="#10、-Miner相关接口" class="headerlink" title="10、 Miner相关接口"></a>10、 Miner相关接口</h2><ul>
<li><a href="https://github.com/filecoin-project/lotus/blob/master/api/api_full.go#L254" target="_blank" rel="noopener">source</a></li>
</ul>
<pre><code>MinerGetBaseInfo(context.Context, address.Address, abi.ChainEpoch, types.TipSetKey) (*MiningBaseInfo, error)
MinerCreateBlock(context.Context, *BlockTemplate) (*types.BlockMsg, error)</code></pre><h3 id="10-1-MinerGetBaseInfo"><a href="#10-1-MinerGetBaseInfo" class="headerlink" title="10.1 MinerGetBaseInfo"></a>10.1 MinerGetBaseInfo</h3><pre><code>// MinerGetBaseInfo获取矿工基本信息。
MinerGetBaseInfo(context.Context, address.Address, abi.ChainEpoch, types.TipSetKey) (*MiningBaseInfo, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>abi.ChainEpoch</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*MiningBaseInfo</li>
<li>error</li>
</ul>
<h3 id="10-2-MinerCreateBlock"><a href="#10-2-MinerCreateBlock" class="headerlink" title="10.2 MinerCreateBlock"></a>10.2 MinerCreateBlock</h3><pre><code>// MinerCreateBlock矿工创建区块。
MinerCreateBlock(context.Context, *BlockTemplate) (*types.BlockMsg, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>*BlockTemplate</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*types.BlockMsg</li>
<li>error</li>
</ul>
<h2 id="11、Wallet相关接口"><a href="#11、Wallet相关接口" class="headerlink" title="11、Wallet相关接口"></a>11、Wallet相关接口</h2><ul>
<li><a href="https://github.com/filecoin-project/lotus/blob/master/api/api_full.go#L261" target="_blank" rel="noopener">source</a></li>
</ul>
<pre><code>WalletNew(context.Context, types.KeyType) (address.Address, error)
WalletHas(context.Context, address.Address) (bool, error)
WalletList(context.Context) ([]address.Address, error)
WalletBalance(context.Context, address.Address) (types.BigInt, error)
WalletSign(context.Context, address.Address, []byte) (*crypto.Signature, error)
WalletSignMessage(context.Context, address.Address, *types.Message) (*types.SignedMessage, error)
WalletVerify(context.Context, address.Address, []byte, *crypto.Signature) (bool, error)
WalletDefaultAddress(context.Context) (address.Address, error)
WalletSetDefault(context.Context, address.Address) error
WalletExport(context.Context, address.Address) (*types.KeyInfo, error)
WalletImport(context.Context, *types.KeyInfo) (address.Address, error)
WalletDelete(context.Context, address.Address) error
WalletValidateAddress(context.Context, string) (address.Address, error)</code></pre><h3 id="11-1-WalletNew"><a href="#11-1-WalletNew" class="headerlink" title="11.1 WalletNew"></a>11.1 WalletNew</h3><pre><code>// WalletNew使用给定的sigType在钱包中创建一个新地址。
// 可用的键类型:bls, secp256k1, secp256k1-ledger
// 支持数值类型:1- secp256k1, 2 - bls是被废弃的。
WalletNew(context.Context, types.KeyType) (address.Address, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>types.KeyType</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>address.Address</li>
<li>error</li>
</ul>
<h3 id="11-2-WalletHas"><a href="#11-2-WalletHas" class="headerlink" title="11.2 WalletHas"></a>11.2 WalletHas</h3><pre><code>// WalletHas表示给定的地址是否在钱包中。
WalletHas(context.Context, address.Address) (bool, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>bool</li>
<li>error</li>
</ul>
<h3 id="11-3-WalletList"><a href="#11-3-WalletList" class="headerlink" title="11.3 WalletList"></a>11.3 WalletList</h3><pre><code>// WalletList列出了钱包里所有的地址。
WalletList(context.Context) ([]address.Address, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>[]address.Address</li>
<li>error</li>
</ul>
<h3 id="11-4-WalletBalance"><a href="#11-4-WalletBalance" class="headerlink" title="11.4 WalletBalance"></a>11.4 WalletBalance</h3><pre><code>// WalletBalance返回链的当前头的给定地址的余额。
WalletBalance(context.Context, address.Address) (types.BigInt, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>types.BigInt</li>
<li>error</li>
</ul>
<h3 id="11-5-WalletSign"><a href="#11-5-WalletSign" class="headerlink" title="11.5 WalletSign"></a>11.5 WalletSign</h3><pre><code>// WalletSign使用给定的地址对给定的字节进行签名。
WalletSign(context.Context, address.Address, []byte) (*crypto.Signature, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>[]byte</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*crypto.Signature</li>
<li>error</li>
</ul>
<h3 id="11-6-WalletSignMessage"><a href="#11-6-WalletSignMessage" class="headerlink" title="11.6 WalletSignMessage"></a>11.6 WalletSignMessage</h3><pre><code>// WalletSignMessage使用给定的地址对给定的消息进行签名。
WalletSignMessage(context.Context, address.Address, *types.Message) (*types.SignedMessage, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>*types.Message</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*types.SignedMessage</li>
<li>error</li>
</ul>
<h3 id="11-7-WalletVerify"><a href="#11-7-WalletVerify" class="headerlink" title="11.7 WalletVerify"></a>11.7 WalletVerify</h3><pre><code>// WalletVerify接受一个地址、一个签名和一些字节，并指示签名是否有效。地址不一定要在钱包里。
WalletVerify(context.Context, address.Address, []byte, *crypto.Signature) (bool, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>[]byte</li>
<li>*crypto.Signature</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>bool</li>
<li>error</li>
</ul>
<h3 id="11-8-WalletDefaultAddress"><a href="#11-8-WalletDefaultAddress" class="headerlink" title="11.8 WalletDefaultAddress"></a>11.8 WalletDefaultAddress</h3><pre><code>// WalletDefaultAddress返回钱包中标记为默认的地址。
WalletDefaultAddress(context.Context) (address.Address, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>address.Address</li>
<li>error</li>
</ul>
<h3 id="11-9-WalletSetDefault"><a href="#11-9-WalletSetDefault" class="headerlink" title="11.9 WalletSetDefault"></a>11.9 WalletSetDefault</h3><pre><code>// WalletSetDefault将给定的地址标记为默认地址。
WalletSetDefault(context.Context, address.Address) error</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>error</li>
</ul>
<h3 id="11-10-WalletExport"><a href="#11-10-WalletExport" class="headerlink" title="11.10 WalletExport"></a>11.10 WalletExport</h3><pre><code>// WalletExport返回钱包中地址的私钥。
WalletExport(context.Context, address.Address) (*types.KeyInfo, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*types.KeyInfo</li>
<li>error</li>
</ul>
<h3 id="11-11-WalletImport"><a href="#11-11-WalletImport" class="headerlink" title="11.11 WalletImport"></a>11.11 WalletImport</h3><pre><code>// WalletImport接收包含私钥的KeyInfo，并将其导入钱包。
WalletImport(context.Context, *types.KeyInfo) (address.Address, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>*types.KeyInfo</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>address.Address</li>
<li>error</li>
</ul>
<h3 id="11-12-WalletDelete"><a href="#11-12-WalletDelete" class="headerlink" title="11.12 WalletDelete"></a>11.12 WalletDelete</h3><pre><code>// WalletDelete从钱包中删除一个地址。
WalletDelete(context.Context, address.Address) error</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>error</li>
</ul>
<h3 id="11-13-WalletValidateAddress"><a href="#11-13-WalletValidateAddress" class="headerlink" title="11.13 WalletValidateAddress"></a>11.13 WalletValidateAddress</h3><pre><code>// WalletValidateAddress验证给定的字符串是否可以被解码为格式良好的地址
WalletValidateAddress(context.Context, string) (address.Address, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>string</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>address.Address</li>
<li>error</li>
</ul>
<h2 id="12、Client相关接口"><a href="#12、Client相关接口" class="headerlink" title="12、Client相关接口"></a>12、Client相关接口</h2><ul>
<li><a href="https://github.com/filecoin-project/lotus/blob/master/api/api_full.go#L295" target="_blank" rel="noopener">source</a></li>
</ul>
<p>Client方法都必须作为客户端与存储和检索市场进行交互。</p>
<pre><code>ClientImport(ctx context.Context, ref FileRef) (*ImportRes, error)
ClientRemoveImport(ctx context.Context, importID multistore.StoreID) error
ClientStartDeal(ctx context.Context, params *StartDealParams) (*cid.Cid, error)
ClientGetDealInfo(context.Context, cid.Cid) (*DealInfo, error)
ClientListDeals(ctx context.Context) ([]DealInfo, error)
ClientGetDealUpdates(ctx context.Context) (&lt;-chan DealInfo, error)
ClientGetDealStatus(ctx context.Context, statusCode uint64) (string, error)
ClientHasLocal(ctx context.Context, root cid.Cid) (bool, error)
ClientFindData(ctx context.Context, root cid.Cid, piece *cid.Cid) ([]QueryOffer, error)
ClientMinerQueryOffer(ctx context.Context, miner address.Address, root cid.Cid, piece *cid.Cid) (QueryOffer, error)
ClientRetrieve(ctx context.Context, order RetrievalOrder, ref *FileRef) error
ClientRetrieveWithEvents(ctx context.Context, order RetrievalOrder, ref *FileRef) (&lt;-chan marketevents.RetrievalEvent, error)
ClientQueryAsk(ctx context.Context, p peer.ID, miner address.Address) (*storagemarket.StorageAsk, error)
ClientDealPieceCID(ctx context.Context, root cid.Cid) (DataCIDSize, error)
ClientCalcCommP(ctx context.Context, inpath string) (*CommPRet, error)
ClientGenCar(ctx context.Context, ref FileRef, outpath string) error
ClientDealSize(ctx context.Context, root cid.Cid) (DataSize, error)
ClientListDataTransfers(ctx context.Context) ([]DataTransferChannel, error)
ClientDataTransferUpdates(ctx context.Context) (&lt;-chan DataTransferChannel, error)
ClientRestartDataTransfer(ctx context.Context, transferID datatransfer.TransferID, otherPeer peer.ID, isInitiator bool) error
ClientCancelDataTransfer(ctx context.Context, transferID datatransfer.TransferID, otherPeer peer.ID, isInitiator bool) error
ClientRetrieveTryRestartInsufficientFunds(ctx context.Context, paymentChannel address.Address) error
ClientListImports(ctx context.Context) ([]Import, error)</code></pre><h2 id="13、State相关接口"><a href="#13、State相关接口" class="headerlink" title="13、State相关接口"></a>13、State相关接口</h2><ul>
<li><a href="https://github.com/filecoin-project/lotus/blob/master/api/api_full.go#L356" target="_blank" rel="noopener">source</a></li>
</ul>
<p>State方法用于查询、检查和与链状态交互。大多数方法采用TipSetKey作为参数。这个state就是查找TipSet的状态。当一个nil的TipSetKey可以作为参数提供，就会使用链中最重的tipset。</p>
<pre><code>StateCall(context.Context, *types.Message, types.TipSetKey) (*InvocResult, error)
StateReplay(context.Context, types.TipSetKey, cid.Cid) (*InvocResult, error)
StateGetActor(ctx context.Context, actor address.Address, tsk types.TipSetKey) (*types.Actor, error)
StateReadState(ctx context.Context, actor address.Address, tsk types.TipSetKey) (*ActorState, error)
StateListMessages(ctx context.Context, match *MessageMatch, tsk types.TipSetKey, toht abi.ChainEpoch) ([]cid.Cid, error)
StateDecodeParams(ctx context.Context, toAddr address.Address, method abi.MethodNum, params []byte, tsk types.TipSetKey) (interface{}, error)
StateNetworkName(context.Context) (dtypes.NetworkName, error)
StateMinerSectors(context.Context, address.Address, *bitfield.BitField, types.TipSetKey) ([]*miner.SectorOnChainInfo, error)
StateMinerActiveSectors(context.Context, address.Address, types.TipSetKey) ([]*miner.SectorOnChainInfo, error)
StateMinerProvingDeadline(context.Context, address.Address, types.TipSetKey) (*dline.Info, error)
StateMinerPower(context.Context, address.Address, types.TipSetKey) (*MinerPower, error)
StateMinerInfo(context.Context, address.Address, types.TipSetKey) (miner.MinerInfo, error)
StateMinerDeadlines(context.Context, address.Address, types.TipSetKey) ([]Deadline, error)
StateMinerPartitions(ctx context.Context, m address.Address, dlIdx uint64, tsk types.TipSetKey) ([]Partition, error)
StateMinerFaults(context.Context, address.Address, types.TipSetKey) (bitfield.BitField, error)
StateAllMinerFaults(ctx context.Context, lookback abi.ChainEpoch, ts types.TipSetKey) ([]*Fault, error)
StateMinerRecoveries(context.Context, address.Address, types.TipSetKey) (bitfield.BitField, error)
StateMinerPreCommitDepositForPower(context.Context, address.Address, miner.SectorPreCommitInfo, types.TipSetKey) (types.BigInt, error)
StateMinerInitialPledgeCollateral(context.Context, address.Address, miner.SectorPreCommitInfo, types.TipSetKey) (types.BigInt, error)
StateMinerAvailableBalance(context.Context, address.Address, types.TipSetKey) (types.BigInt, error)
StateMinerSectorAllocated(context.Context, address.Address, abi.SectorNumber, types.TipSetKey) (bool, error)
StateSectorPreCommitInfo(context.Context, address.Address, abi.SectorNumber, types.TipSetKey) (miner.SectorPreCommitOnChainInfo, error)
StateSectorGetInfo(context.Context, address.Address, abi.SectorNumber, types.TipSetKey) (*miner.SectorOnChainInfo, error)
StateSectorExpiration(context.Context, address.Address, abi.SectorNumber, types.TipSetKey) (*miner.SectorExpiration, error)
StateSectorPartition(ctx context.Context, maddr address.Address, sectorNumber abi.SectorNumber, tok types.TipSetKey) (*miner.SectorLocation, error)
StateSearchMsg(context.Context, cid.Cid) (*MsgLookup, error)
StateWaitMsg(ctx context.Context, cid cid.Cid, confidence uint64) (*MsgLookup, error)
StateWaitMsgLimited(ctx context.Context, cid cid.Cid, confidence uint64, limit abi.ChainEpoch) (*MsgLookup, error)
StateListMiners(context.Context, types.TipSetKey) ([]address.Address, error)
StateListActors(context.Context, types.TipSetKey) ([]address.Address, error)
StateMarketBalance(context.Context, address.Address, types.TipSetKey) (MarketBalance, error)
StateMarketParticipants(context.Context, types.TipSetKey) (map[string]MarketBalance, error)
StateMarketDeals(context.Context, types.TipSetKey) (map[string]MarketDeal, error)
StateMarketStorageDeal(context.Context, abi.DealID, types.TipSetKey) (*MarketDeal, error)
StateLookupID(context.Context, address.Address, types.TipSetKey) (address.Address, error)
StateAccountKey(context.Context, address.Address, types.TipSetKey) (address.Address, error)
StateChangedActors(context.Context, cid.Cid, cid.Cid) (map[string]types.Actor, error)
StateGetReceipt(context.Context, cid.Cid, types.TipSetKey) (*types.MessageReceipt, error)
StateMinerSectorCount(context.Context, address.Address, types.TipSetKey) (MinerSectors, error)
StateCompute(context.Context, abi.ChainEpoch, []*types.Message, types.TipSetKey) (*ComputeStateOutput, error)
StateVerifierStatus(ctx context.Context, addr address.Address, tsk types.TipSetKey) (*abi.StoragePower, error)
StateVerifiedClientStatus(ctx context.Context, addr address.Address, tsk types.TipSetKey) (*abi.StoragePower, error)
StateVerifiedRegistryRootKey(ctx context.Context, tsk types.TipSetKey) (address.Address, error)
StateDealProviderCollateralBounds(context.Context, abi.PaddedPieceSize, bool, types.TipSetKey) (DealCollateralBounds, error)
StateCirculatingSupply(context.Context, types.TipSetKey) (abi.TokenAmount, error)
StateVMCirculatingSupplyInternal(context.Context, types.TipSetKey) (CirculatingSupply, error)
StateNetworkVersion(context.Context, types.TipSetKey) (network.Version, error)</code></pre><h3 id="13-1-StateCall"><a href="#13-1-StateCall" class="headerlink" title="13.1 StateCall"></a>13.1 StateCall</h3><pre><code>// StateCall运行给定的消息并返回其结果，并且不进行任何持久的更改。
StateCall(context.Context, *types.Message, types.TipSetKey) (*InvocResult, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>*types.Message</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*InvocResult</li>
<li>error</li>
</ul>
<h3 id="13-2-StateReplay"><a href="#13-2-StateReplay" class="headerlink" title="13.2 StateReplay"></a>13.2 StateReplay</h3><pre><code>// StateReplay重播给定的消息，假设它包含在指定的tipset中的一个块中。如果没有提供tipset key，则查找适当的tipset。
StateReplay(context.Context, types.TipSetKey, cid.Cid) (*InvocResult, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>types.TipSetKey</li>
<li>cid.Cid</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*InvocResult</li>
<li>error</li>
</ul>
<h3 id="13-3-StateGetActor"><a href="#13-3-StateGetActor" class="headerlink" title="13.3 StateGetActor"></a>13.3 StateGetActor</h3><pre><code>// StateGetActor返回指示的参与者的现时状态和平衡。
StateGetActor(ctx context.Context, actor address.Address, tsk types.TipSetKey) (*types.Actor, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>actor address.Address</li>
<li>tsk types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*types.Actor</li>
<li>error</li>
</ul>
<h3 id="13-4-StateReadState"><a href="#13-4-StateReadState" class="headerlink" title="13.4 StateReadState"></a>13.4 StateReadState</h3><pre><code>// StateReadState返回指示的actor的状态。
StateReadState(ctx context.Context, actor address.Address, tsk types.TipSetKey) (*ActorState, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>actor address.Address</li>
<li>tsk types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*ActorState</li>
<li>error</li>
</ul>
<pre><code>root@hos:/# lotus state read-state f01          // f01
{
  &quot;AddressMap&quot;: {
    &quot;/&quot;: &quot;bafy2bzacec5e4rputw6wgjaxmlmu6fkmovb2p5zblet5wtz5pplwun3eipuju&quot;
  },
  &quot;NetworkName&quot;: &quot;mainnet&quot;,
  &quot;NextID&quot;: 106681
}
root@hos:/# lotus state read-state f02         // f02   fil/1/reward 奖励状态
{
  &quot;BaselineTotal&quot;: &quot;768335872210768889362796814&quot;,
  &quot;CumsumBaseline&quot;: &quot;234191955605542909096709&quot;,
  &quot;CumsumRealized&quot;: &quot;234189490855937740636160&quot;,
  &quot;EffectiveBaselinePower&quot;: &quot;3043311871865719409&quot;,
  &quot;EffectiveNetworkTime&quot;: 78974,
  &quot;Epoch&quot;: 326014,
  &quot;SimpleTotal&quot;: &quot;330000000000000000000000000&quot;,
  &quot;ThisEpochBaselinePower&quot;: &quot;3581710777542733404&quot;,
  &quot;ThisEpochReward&quot;: &quot;79328459378847294913&quot;,
  &quot;ThisEpochRewardSmoothed&quot;: {
    &quot;PositionEstimate&quot;: &quot;27022414008455266444316055720016084045780110289978687389973&quot;,
    &quot;VelocityEstimate&quot;: &quot;46733109068626715176966450829245800536096806968605410&quot;
  },
  &quot;TotalStoragePowerReward&quot;: &quot;17624000603654293346298282&quot;
}
root@hos:/# lotus state read-state f03
{
  &quot;Entries&quot;: [
    {
      &quot;MethodNum&quot;: 5,
      &quot;Receiver&quot;: &quot;f04&quot;
    },
    {
      &quot;MethodNum&quot;: 9,
      &quot;Receiver&quot;: &quot;f05&quot;
    }
  ]
}
root@hos:/# lotus state read-state f04      // fil/1/storagepower  存储算力状态
{
  &quot;Claims&quot;: {
    &quot;/&quot;: &quot;bafy2bzacebtgky7ecrfwuxon6tbzx72njfc577b4id6b4boyv7k4cok5nc3ha&quot;
  },
  &quot;CronEventQueue&quot;: {
    &quot;/&quot;: &quot;bafy2bzacea5j7jk442udp72e4elduaolumbzrexgdqjhimpann252rrg5xypc&quot;
  },
  &quot;FirstCronEpoch&quot;: 326015,
  &quot;MinerAboveMinPowerCount&quot;: 745,
  &quot;MinerCount&quot;: 19734,
  &quot;ProofValidationBatch&quot;: null,
  &quot;ThisEpochPledgeCollateral&quot;: &quot;23368406287910247558845012&quot;,
  &quot;ThisEpochQAPowerSmoothed&quot;: {
    &quot;PositionEstimate&quot;: &quot;549569290044652055415518498354202923072947530228920489222&quot;,
    &quot;VelocityEstimate&quot;: &quot;1963777490808617717598321997797621068301905596079094&quot;
  },
  &quot;ThisEpochQualityAdjPower&quot;: &quot;1612032406014590976&quot;,
  &quot;ThisEpochRawBytePower&quot;: &quot;1611970186183704576&quot;,
  &quot;TotalBytesCommitted&quot;: &quot;1612292343090642944&quot;,
  &quot;TotalPledgeCollateral&quot;: &quot;23368406287910247558845012&quot;,
  &quot;TotalQABytesCommitted&quot;: &quot;1612355022926905344&quot;,
  &quot;TotalQualityAdjPower&quot;: &quot;1612032406014590976&quot;,
  &quot;TotalRawBytePower&quot;: &quot;1611970186183704576&quot;
}
root@hos:/# lotus state read-state f05   // fil/1/storagemarket 存储市场状态
{
  &quot;DealOpsByEpoch&quot;: {
    &quot;/&quot;: &quot;bafy2bzacecw5tpbdyjny4tcmhfqnw26vsvihzqhmjkhsmnclux3lcaatliqvs&quot;
  },
  &quot;EscrowTable&quot;: {
    &quot;/&quot;: &quot;bafy2bzaceaxsyglblop25rsxxy4wcgxft2sqtbidtg2vklo6oda5dqnojizfe&quot;
  },
  &quot;LastCron&quot;: 326014,
  &quot;LockedTable&quot;: {
    &quot;/&quot;: &quot;bafy2bzacebrt5euqxadnmzsodgacqfpektd3oqcinctrobeghe2ebfl7bhe4s&quot;
  },
  &quot;NextID&quot;: 1444903,
  &quot;PendingProposals&quot;: {
    &quot;/&quot;: &quot;bafy2bzaceaycomsyqr4zzds6kxh6vo6n2moboyxay32kqxsndaxo2zpfdxlga&quot;
  },
  &quot;Proposals&quot;: {
    &quot;/&quot;: &quot;bafy2bzacecntneput7b6gcp6aapfugcsnmgy52g3lcgzc2mcpz5em6vypmkxc&quot;
  },
  &quot;States&quot;: {
    &quot;/&quot;: &quot;bafy2bzacebjagi45jsuc4ku3dfa5umplutwrwd7jjoovo64qkcpfcwano6fxs&quot;
  },
  &quot;TotalClientLockedCollateral&quot;: &quot;0&quot;,
  &quot;TotalClientStorageFee&quot;: &quot;6142010144904144154436&quot;,
  &quot;TotalProviderLockedCollateral&quot;: &quot;188244291340759514232&quot;
}

root@hos:/# lotus state read-state f01000  // fil/1/storageminer  存储矿工
{
  &quot;AllocatedSectors&quot;: {
    &quot;/&quot;: &quot;bafy2bzacedyfzqf2yosdjbi6jb4kxx2rv2mox4eb3iy5qq6hgvsbukhvflrns&quot;
  },
  &quot;CurrentDeadline&quot;: 46,
  &quot;Deadlines&quot;: {
    &quot;/&quot;: &quot;bafy2bzacedyypcxm5ehe6brxhsdms7brh32e4yptzm3yrkuh75rm5epx2oc6o&quot;
  },
  &quot;EarlyTerminations&quot;: [
    0
  ],
  &quot;FeeDebt&quot;: &quot;0&quot;,
  &quot;Info&quot;: {
    &quot;/&quot;: &quot;bafy2bzacebspbndypxdn6sk4qia36z5s372xt7rss54ufhdojszlocjjdra4u&quot;
  },
  &quot;InitialPledge&quot;: &quot;0&quot;,
  &quot;LockedFunds&quot;: &quot;0&quot;,
  &quot;PreCommitDeposits&quot;: &quot;0&quot;,
  &quot;PreCommittedSectors&quot;: {
    &quot;/&quot;: &quot;bafy2bzaceamp42wmmgr2g2ymg46euououzfyck7szknvfacqscohrvaikwfay&quot;
  },
  &quot;PreCommittedSectorsExpiry&quot;: {
    &quot;/&quot;: &quot;bafy2bzacec37ge5tcke2myov7ujhojrq5fowh66vuyow4u665edbxopziuju4&quot;
  },
  &quot;ProvingPeriodStart&quot;: 323218,
  &quot;Sectors&quot;: {
    &quot;/&quot;: &quot;bafy2bzaceblmb2fxosa2jfahlah7p27qhnnh7amib6wtmxdziibbm4e5ers52&quot;
  },
  &quot;VestingFunds&quot;: {
    &quot;/&quot;: &quot;bafy2bzacealbq6s7ptdud6gvpc2yv54opwotncjlqjxmzb2q2rnjxv753rwdc&quot;
  }
}
root@hos:/# lotus state read-state f01248   // fil/1/storageminer  存储矿工
{
  &quot;AllocatedSectors&quot;: {
    &quot;/&quot;: &quot;bafy2bzacebh6rmskmnvkox4ofomzess2jm6kwxu3ft7c33rxo5l6ppozqezac&quot;
  },
  &quot;CurrentDeadline&quot;: 37,
  &quot;Deadlines&quot;: {
    &quot;/&quot;: &quot;bafy2bzacebxnyknrbd5fz5phm7ln73224yxvfd65u47cy7cdqqgex4kukithw&quot;
  },
  &quot;EarlyTerminations&quot;: [
    0
  ],
  &quot;FeeDebt&quot;: &quot;0&quot;,
  &quot;Info&quot;: {
    &quot;/&quot;: &quot;bafy2bzacedr4ow3wzogcsvavdq5brbukemd2j34fp54pezyllfxxbgnrwe2yq&quot;
  },
  &quot;InitialPledge&quot;: &quot;666208681873401318957723&quot;,
  &quot;LockedFunds&quot;: &quot;629972432690938951598530&quot;,
  &quot;PreCommitDeposits&quot;: &quot;0&quot;,
  &quot;PreCommittedSectors&quot;: {
    &quot;/&quot;: &quot;bafy2bzaceamp42wmmgr2g2ymg46euououzfyck7szknvfacqscohrvaikwfay&quot;
  },
  &quot;PreCommittedSectorsExpiry&quot;: {
    &quot;/&quot;: &quot;bafy2bzacea66a5lh2ccfrwqjt26ilcvsbox7p4ugoctvaghhwp5jhioxqb5fe&quot;
  },
  &quot;ProvingPeriodStart&quot;: 323775,
  &quot;Sectors&quot;: {
    &quot;/&quot;: &quot;bafy2bzacedy3umcrcqqdfebwmw5asilbama4bkox4r6gdsdbczn7suqdr2hqq&quot;
  },
  &quot;VestingFunds&quot;: {
    &quot;/&quot;: &quot;bafy2bzacecxjikr5pnwflovwfs5pkkvljtmwl4efo5oz5duye5a5qtuljjdbu&quot;
  }
}

root@hos:/# lotus state  --tipset bafy2bzaced25tbo6y5kgbzi2gya7s2wvmiz5xdudkcu3k2huan4g34rkahe3u,bafy2bzacecbxtti4w7f5figusqaubfjmv25edznrdynu7htsmwcgvprh2snvk,bafy2bzacedds2p2hdfsvifgxjnqngyrkpeszrl5bo6six7ci4bl3jk36dsdla read-state f01248
{
  &quot;AllocatedSectors&quot;: {
    &quot;/&quot;: &quot;bafy2bzacecq27lqkg56exhobcvq3bbc3anp2dpjvn2bhqdiqdtfuiojyyuv52&quot;
  },
  &quot;CurrentDeadline&quot;: 20,
  &quot;Deadlines&quot;: {
    &quot;/&quot;: &quot;bafy2bzacebboov5k7bc7ea6iccex6me2gzwhm6rijnyvwjsfjwt4q77v2cweg&quot;
  },
  &quot;EarlyTerminations&quot;: [
    0
  ],
  &quot;FeeDebt&quot;: &quot;0&quot;,
  &quot;Info&quot;: {
    &quot;/&quot;: &quot;bafy2bzacedr4ow3wzogcsvavdq5brbukemd2j34fp54pezyllfxxbgnrwe2yq&quot;
  },
  &quot;InitialPledge&quot;: &quot;660871389003289822327674&quot;,
  &quot;LockedFunds&quot;: &quot;624135229303181250121030&quot;,
  &quot;PreCommitDeposits&quot;: &quot;202467385778161649520&quot;,
  &quot;PreCommittedSectors&quot;: {
    &quot;/&quot;: &quot;bafy2bzaceas5vnvicmwero3h6i4o5r7ekk4q4vad77leh7ns4asupixuoynmy&quot;
  },
  &quot;PreCommittedSectorsExpiry&quot;: {
    &quot;/&quot;: &quot;bafy2bzacedibm6e772h6h33nfyxzmpaw7snatneu25jsiyg4n3unhim2hozlm&quot;
  },
  &quot;ProvingPeriodStart&quot;: 318015,
  &quot;Sectors&quot;: {
    &quot;/&quot;: &quot;bafy2bzaceadqcyk3a2ldcfktkd4w7xqgpgpw5yxwcmav5t2g4iyqfaniddnag&quot;
  },
  &quot;VestingFunds&quot;: {
    &quot;/&quot;: &quot;bafy2bzaceal5jzgvua3mq7zdb566332dzmkmnwggfcgcig7peci2pmzg2qsqc&quot;
  }
}
</code></pre><h3 id="13-5-StateListMessages"><a href="#13-5-StateListMessages" class="headerlink" title="13.5 StateListMessages"></a>13.5 StateListMessages</h3><pre><code>// StateListMessages返回所有与地址匹配的消息，并在给定的高度停止。
StateListMessages(ctx context.Context, match *MessageMatch, tsk types.TipSetKey, toht abi.ChainEpoch) ([]cid.Cid, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>match *MessageMatch</li>
<li>tsk types.TipSetKey</li>
<li>toht abi.ChainEpoch</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>[]cid.Cid</li>
<li>error</li>
</ul>
<h3 id="13-6-StateDecodeParams"><a href="#13-6-StateDecodeParams" class="headerlink" title="13.6 StateDecodeParams"></a>13.6 StateDecodeParams</h3><pre><code>// StateDecodeParams尝试根据接收方、参与者地址和方法号解码所提供的参数。
StateDecodeParams(ctx context.Context, toAddr address.Address, method abi.MethodNum, params []byte, tsk types.TipSetKey) (interface{}, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>toAddr address.Address</li>
<li>method abi.MethodNum</li>
<li>params []byte,</li>
<li>tsk types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>interface{}</li>
<li>error</li>
</ul>
<h3 id="13-7-StateNetworkName"><a href="#13-7-StateNetworkName" class="headerlink" title="13.7 StateNetworkName"></a>13.7 StateNetworkName</h3><pre><code>// StateNetworkName返回与节点同步的网络的名称
StateNetworkName(context.Context) (dtypes.NetworkName, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>dtypes.NetworkName</li>
<li>error</li>
</ul>
<h3 id="13-8-StateMinerSectors"><a href="#13-8-StateMinerSectors" class="headerlink" title="13.8 StateMinerSectors"></a>13.8 StateMinerSectors</h3><pre><code>// stateminersector返回关于给定矿商行业的信息。如果filter bitfield为nil，则包括所有扇区。
StateMinerSectors(context.Context, address.Address, *bitfield.BitField, types.TipSetKey) ([]*miner.SectorOnChainInfo, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>*bitfield.BitField</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>[]*miner.SectorOnChainInfo</li>
<li>error</li>
</ul>
<h3 id="13-9-StateMinerActiveSectors"><a href="#13-9-StateMinerActiveSectors" class="headerlink" title="13.9 StateMinerActiveSectors"></a>13.9 StateMinerActiveSectors</h3><pre><code>// StateMinerActiveSectors返回关于给定矿机正在积极证明的扇区的信息。
StateMinerActiveSectors(context.Context, address.Address, types.TipSetKey) ([]*miner.SectorOnChainInfo, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>, address.Address</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>[]*miner.SectorOnChainInfo</li>
<li>error</li>
</ul>
<h3 id="13-10-StateMinerProvingDeadline"><a href="#13-10-StateMinerProvingDeadline" class="headerlink" title="13.10 StateMinerProvingDeadline"></a>13.10 StateMinerProvingDeadline</h3><pre><code>// StateMinerProvingDeadline计算一个证明期间的某个epoch的deadline,并返回与deadline相关的计算。
StateMinerProvingDeadline(context.Context, address.Address, types.TipSetKey) (*dline.Info, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*dline.Info</li>
<li>error</li>
</ul>
<h3 id="13-11-StateMinerPower"><a href="#13-11-StateMinerPower" class="headerlink" title="13.11 StateMinerPower"></a>13.11 StateMinerPower</h3><pre><code>// StateMinerPower返回指定矿机的power。
StateMinerPower(context.Context, address.Address, types.TipSetKey) (*MinerPower, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*MinerPower</li>
<li>error</li>
</ul>
<h3 id="13-12-StateMinerInfo"><a href="#13-12-StateMinerInfo" class="headerlink" title="13.12 StateMinerInfo"></a>13.12 StateMinerInfo</h3><pre><code>// StateMinerInfo返回关于指定矿机的信息
StateMinerInfo(context.Context, address.Address, types.TipSetKey) (miner.MinerInfo, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>miner.MinerInfo</li>
<li>error</li>
</ul>
<h3 id="13-13-StateMinerDeadlines"><a href="#13-13-StateMinerDeadlines" class="headerlink" title="13.13 StateMinerDeadlines"></a>13.13 StateMinerDeadlines</h3><pre><code>// stateminerdeadline返回给定矿机的所有proving deadlines。
StateMinerDeadlines(context.Context, address.Address, types.TipSetKey) ([]Deadline, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>[]Deadline</li>
<li>error</li>
</ul>
<h3 id="13-14-StateMinerPartitions"><a href="#13-14-StateMinerPartitions" class="headerlink" title="13.14 StateMinerPartitions"></a>13.14 StateMinerPartitions</h3><pre><code>// StateMinerPartitions返回指定deadline内的所有Partition。
StateMinerPartitions(ctx context.Context, m address.Address, dlIdx uint64, tsk types.TipSetKey) ([]Partition, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>m address.Address</li>
<li>dlIdx uint64</li>
<li>tsk types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>[]Partition</li>
<li>error</li>
</ul>
<h3 id="13-15-StateMinerFaults"><a href="#13-15-StateMinerFaults" class="headerlink" title="13.15 StateMinerFaults"></a>13.15 StateMinerFaults</h3><pre><code>// StateMinerFaults返回一个bitfield，指示给定miner的故障扇区。
StateMinerFaults(context.Context, address.Address, types.TipSetKey) (bitfield.BitField, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>bitfield.BitField</li>
<li>error</li>
</ul>
<h3 id="13-16-StateAllMinerFaults"><a href="#13-16-StateAllMinerFaults" class="headerlink" title="13.16 StateAllMinerFaults"></a>13.16 StateAllMinerFaults</h3><pre><code>// StateAllMinerFaults返回在给定tipset的回看epochs内发生的所有未过期的Faults。
StateAllMinerFaults(ctx context.Context, lookback abi.ChainEpoch, ts types.TipSetKey) ([]*Fault, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>lookback abi.ChainEpoch</li>
<li>ts types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>[]*Fault</li>
<li>error</li>
</ul>
<h3 id="13-17-StateMinerRecoveries"><a href="#13-17-StateMinerRecoveries" class="headerlink" title="13.17 StateMinerRecoveries"></a>13.17 StateMinerRecoveries</h3><pre><code>// StateMinerRecoveries返回一个bitfield，指示给定miner的恢复扇区。
StateMinerRecoveries(context.Context, address.Address, types.TipSetKey) (bitfield.BitField, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>bitfield.BitField</li>
<li>error</li>
</ul>
<h3 id="13-18-StateMinerPreCommitDepositForPower"><a href="#13-18-StateMinerPreCommitDepositForPower" class="headerlink" title="13.18 StateMinerPreCommitDepositForPower"></a>13.18 StateMinerPreCommitDepositForPower</h3><pre><code>// StateMinerPreCommitDepositForPower返回指定miner的扇区的预提交保证金。
StateMinerPreCommitDepositForPower(context.Context, address.Address, miner.SectorPreCommitInfo, types.TipSetKey) (types.BigInt, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>miner.SectorPreCommitInfo</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>types.BigInt</li>
<li>error</li>
</ul>
<h3 id="13-19-StateMinerInitialPledgeCollateral"><a href="#13-19-StateMinerInitialPledgeCollateral" class="headerlink" title="13.19 StateMinerInitialPledgeCollateral"></a>13.19 StateMinerInitialPledgeCollateral</h3><pre><code>// StateMinerInitialPledgeCollateral返回指定miner sector的初始抵押品。
StateMinerInitialPledgeCollateral(context.Context, address.Address, miner.SectorPreCommitInfo, types.TipSetKey) (types.BigInt, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>miner.SectorPreCommitInfo</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><p>types.BigInt</p>
</li>
<li><p>error</p>
</li>
</ul>
<h3 id="13-20-StateMinerAvailableBalance"><a href="#13-20-StateMinerAvailableBalance" class="headerlink" title="13.20 StateMinerAvailableBalance"></a>13.20 StateMinerAvailableBalance</h3><pre><code>// StateMinerAvailableBalance返回miner余额中可以提取或使用的部分。
StateMinerAvailableBalance(context.Context, address.Address, types.TipSetKey) (types.BigInt, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>types.BigInt</li>
<li>error</li>
</ul>
<h3 id="13-21-StateMinerSectorAllocated"><a href="#13-21-StateMinerSectorAllocated" class="headerlink" title="13.21 StateMinerSectorAllocated"></a>13.21 StateMinerSectorAllocated</h3><pre><code>// stateminersectorallocation检查是否分配了扇区
StateMinerSectorAllocated(context.Context, address.Address, abi.SectorNumber, types.TipSetKey) (bool, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>abi.SectorNumber</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>bool</li>
<li>error</li>
</ul>
<h3 id="13-22-StateSectorPreCommitInfo"><a href="#13-22-StateSectorPreCommitInfo" class="headerlink" title="13.22 StateSectorPreCommitInfo"></a>13.22 StateSectorPreCommitInfo</h3><pre><code>// StateSectorPreCommitInfo返回指定miner扇区的PreCommit信息。
StateSectorPreCommitInfo(context.Context, address.Address, abi.SectorNumber, types.TipSetKey) (miner.SectorPreCommitOnChainInfo, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>abi.SectorNumber</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>miner.SectorPreCommitOnChainInfo</li>
<li>error</li>
</ul>
<h3 id="13-23-StateSectorGetInfo"><a href="#13-23-StateSectorGetInfo" class="headerlink" title="13.23 StateSectorGetInfo"></a>13.23 StateSectorGetInfo</h3><pre><code>// StateSectorGetInfo返回指定矿机扇区的链上信息。如果没有找到扇区信息，返回null
// 注意:返回信息。在某些情况下，过期可能不准确，使用state - ectorexpiration来获得准确的过期时间。
StateSectorGetInfo(context.Context, address.Address, abi.SectorNumber, types.TipSetKey) (*miner.SectorOnChainInfo, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>abi.SectorNumber</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*miner.SectorOnChainInfo</li>
<li>error</li>
</ul>
<h3 id="13-24-StateSectorExpiration"><a href="#13-24-StateSectorExpiration" class="headerlink" title="13.24 StateSectorExpiration"></a>13.24 StateSectorExpiration</h3><pre><code>// StateSectorExpiration返回给定的sector将在哪个epoch过期
StateSectorExpiration(context.Context, address.Address, abi.SectorNumber, types.TipSetKey) (*miner.SectorExpiration, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>abi.SectorNumber</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*miner.SectorExpiration</li>
<li>error</li>
</ul>
<h3 id="13-25-StateSectorPartition"><a href="#13-25-StateSectorPartition" class="headerlink" title="13.25 StateSectorPartition"></a>13.25 StateSectorPartition</h3><pre><code>// StateSectorPartition查找指定的sector的deadline/partition。
StateSectorPartition(ctx context.Context, maddr address.Address, sectorNumber abi.SectorNumber, tok types.TipSetKey) (*miner.SectorLocation, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>maddr address.Address</li>
<li>sectorNumber abi.SectorNumber</li>
<li>tok types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*miner.SectorLocation</li>
<li>error</li>
</ul>
<h3 id="13-26-StateSearchMsg"><a href="#13-26-StateSearchMsg" class="headerlink" title="13.26 StateSearchMsg"></a>13.26 StateSearchMsg</h3><pre><code>// StateSearchMsg在链中搜索消息，并返回其接收和执行该消息的tipset
StateSearchMsg(context.Context, cid.Cid) (*MsgLookup, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>cid.Cid</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*MsgLookup</li>
<li>error</li>
</ul>
<h3 id="13-27-StateWaitMsg"><a href="#13-27-StateWaitMsg" class="headerlink" title="13.27 StateWaitMsg"></a>13.27 StateWaitMsg</h3><pre><code>// StateWaitMsg在链中向后查找消息。如果没有找到，它将阻塞，直到消息到达链上，并到达指定的confidence深度。
StateWaitMsg(ctx context.Context, cid cid.Cid, confidence uint64) (*MsgLookup, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>cid cid.Cid</li>
<li>confidence uint64</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*MsgLookup</li>
<li>error</li>
</ul>
<h3 id="13-28-StateWaitMsgLimited"><a href="#13-28-StateWaitMsgLimited" class="headerlink" title="13.28 StateWaitMsgLimited"></a>13.28 StateWaitMsgLimited</h3><pre><code>// StateWaitMsgLimited向后查找以限制消息链中的epoch。如果没有找到，它将阻塞，直到消息到达链上，并到达指定的confidence深度。。
StateWaitMsgLimited(ctx context.Context, cid cid.Cid, confidence uint64, limit abi.ChainEpoch) (*MsgLookup, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>cid cid.Cid</li>
<li>confidence uint64</li>
<li>limit abi.ChainEpoch</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*MsgLookup</li>
<li>error</li>
</ul>
<h3 id="13-29-StateListMiners"><a href="#13-29-StateListMiners" class="headerlink" title="13.29 StateListMiners"></a>13.29 StateListMiners</h3><pre><code>// StateListMiners返回在power Actor中声明power的每个miner的地址。
StateListMiners(context.Context, types.TipSetKey) ([]address.Address, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>[]address.Address</li>
<li>error</li>
</ul>
<h3 id="13-30-StateListActors"><a href="#13-30-StateListActors" class="headerlink" title="13.30 StateListActors"></a>13.30 StateListActors</h3><pre><code>// StateListActors返回该state中每个actor的地址
StateListActors(context.Context, types.TipSetKey) ([]address.Address, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>[]address.Address</li>
<li>error</li>
</ul>
<pre><code>root@hos:~# lotus state list-actors
f01
f01248
...
f02
f03
f04
f05
...</code></pre><h3 id="13-31-StateMarketBalance"><a href="#13-31-StateMarketBalance" class="headerlink" title="13.31 StateMarketBalance"></a>13.31 StateMarketBalance</h3><pre><code>// StateMarketBalance查询存储市场中给定地址的托管和锁定余额。
StateMarketBalance(context.Context, address.Address, types.TipSetKey) (MarketBalance, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>MarketBalance</li>
<li>error</li>
</ul>
<h3 id="13-32-StateMarketParticipants"><a href="#13-32-StateMarketParticipants" class="headerlink" title="13.32 StateMarketParticipants"></a>13.32 StateMarketParticipants</h3><pre><code>// StateMarketParticipants返回存储市场中每个actor的托管和锁定余额。
StateMarketParticipants(context.Context, types.TipSetKey) (map[string]MarketBalance, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>map[string]MarketBalance</li>
<li>error</li>
</ul>
<h3 id="13-33-StateMarketDeals"><a href="#13-33-StateMarketDeals" class="headerlink" title="13.33 StateMarketDeals"></a>13.33 StateMarketDeals</h3><pre><code>// StateMarketDeals返回存储市场中每笔交易的信息
StateMarketDeals(context.Context, types.TipSetKey) (map[string]MarketDeal, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>map[string]MarketDeal</li>
<li>error</li>
</ul>
<h3 id="13-34-StateMarketStorageDeal"><a href="#13-34-StateMarketStorageDeal" class="headerlink" title="13.34 StateMarketStorageDeal"></a>13.34 StateMarketStorageDeal</h3><pre><code>// StateMarketStorageDeal返回有关指定交易的信息。
StateMarketStorageDeal(context.Context, abi.DealID, types.TipSetKey) (*MarketDeal, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>abi.DealID</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*MarketDeal</li>
<li>error</li>
</ul>
<h3 id="13-35-StateLookupID"><a href="#13-35-StateLookupID" class="headerlink" title="13.35 StateLookupID"></a>13.35 StateLookupID</h3><pre><code>// StateLookupID检索给定地址的ID地址
StateLookupID(context.Context, address.Address, types.TipSetKey) (address.Address, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>address.Address</li>
<li>error</li>
</ul>
<h3 id="13-36-StateAccountKey"><a href="#13-36-StateAccountKey" class="headerlink" title="13.36 StateAccountKey"></a>13.36 StateAccountKey</h3><pre><code>// StateAccountKey返回给定ID地址的公钥地址。
StateAccountKey(context.Context, address.Address, types.TipSetKey) (address.Address, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>address.Address</li>
<li>error</li>
</ul>
<h3 id="13-37-StateChangedActors"><a href="#13-37-StateChangedActors" class="headerlink" title="13.37 StateChangedActors"></a>13.37 StateChangedActors</h3><pre><code>// StateChangedActors返回在两个给定状态cid之间状态改变的所有actor。
StateChangedActors(context.Context, cid.Cid, cid.Cid) (map[string]types.Actor, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>cid.Cid</li>
<li>cid.Cid</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>map[string]types.Actor</li>
<li>error</li>
</ul>
<h3 id="13-38-StateGetReceipt"><a href="#13-38-StateGetReceipt" class="headerlink" title="13.38 StateGetReceipt"></a>13.38 StateGetReceipt</h3><pre><code>// StateGetReceipt返回给定消息的MessageReceipt。
StateGetReceipt(context.Context, cid.Cid, types.TipSetKey) (*types.MessageReceipt, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>cid.Cid</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*types.MessageReceipt</li>
<li>error</li>
</ul>
<h3 id="13-39-StateMinerSectorCount"><a href="#13-39-StateMinerSectorCount" class="headerlink" title="13.39 StateMinerSectorCount"></a>13.39 StateMinerSectorCount</h3><pre><code>// StateMinerSectorCount返回miner扇区集和证明集中的扇区数。
StateMinerSectorCount(context.Context, address.Address, types.TipSetKey) (MinerSectors, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>MinerSectors</li>
<li>error</li>
</ul>
<h3 id="13-40-StateCompute"><a href="#13-40-StateCompute" class="headerlink" title="13.40 StateCompute"></a>13.40 StateCompute</h3><pre><code>// StateCompute是一个灵活的命令，它在给定的tipset上应用给定的消息。这些消息就像VM在提供的高度一样运行
StateCompute(context.Context, abi.ChainEpoch, []*types.Message, types.TipSetKey) (*ComputeStateOutput, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>abi.ChainEpoch</li>
<li>[]*types.Message</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*ComputeStateOutput</li>
<li>error</li>
</ul>
<h3 id="13-41-StateVerifierStatus"><a href="#13-41-StateVerifierStatus" class="headerlink" title="13.41 StateVerifierStatus"></a>13.41 StateVerifierStatus</h3><pre><code>// StateVerifierStatus返回给定地址的数据上限。如果数据cap表中没有地址项，则返回nil。。
StateVerifierStatus(ctx context.Context, addr address.Address, tsk types.TipSetKey) (*abi.StoragePower, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>addr address.Address</li>
<li>tsk types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*abi.StoragePower</li>
<li>error</li>
</ul>
<h3 id="13-42-StateVerifiedClientStatus"><a href="#13-42-StateVerifiedClientStatus" class="headerlink" title="13.42 StateVerifiedClientStatus"></a>13.42 StateVerifiedClientStatus</h3><pre><code>// StateVerifiedClientStatus返回给定地址的数据cap。如果数据cap表中没有地址项，则返回nil。
StateVerifiedClientStatus(ctx context.Context, addr address.Address, tsk types.TipSetKey) (*abi.StoragePower, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>addr address.Address</li>
<li>tsk types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>*abi.StoragePower</li>
<li>error</li>
</ul>
<h3 id="13-43-StateVerifiedRegistryRootKey"><a href="#13-43-StateVerifiedRegistryRootKey" class="headerlink" title="13.43 StateVerifiedRegistryRootKey"></a>13.43 StateVerifiedRegistryRootKey</h3><pre><code>// StateVerifiedClientStatus返回Verified Registry&#39;s root key
StateVerifiedRegistryRootKey(ctx context.Context, tsk types.TipSetKey) (address.Address, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>tsk types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>address.Address</li>
<li>error</li>
</ul>
<h3 id="13-44-StateDealProviderCollateralBounds"><a href="#13-44-StateDealProviderCollateralBounds" class="headerlink" title="13.44 StateDealProviderCollateralBounds"></a>13.44 StateDealProviderCollateralBounds</h3><pre><code>// StateDealProviderCollateralBounds返回存储提供商可以发行的最小和最大抵押品。它以交易规模和验证状态为参数。
StateDealProviderCollateralBounds(context.Context, abi.PaddedPieceSize, bool, types.TipSetKey) (DealCollateralBounds, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>abi.PaddedPieceSize</li>
<li>bool</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>DealCollateralBounds</li>
<li>error</li>
</ul>
<h3 id="13-45-StateCirculatingSupply"><a href="#13-45-StateCirculatingSupply" class="headerlink" title="13.45 StateCirculatingSupply"></a>13.45 StateCirculatingSupply</h3><pre><code>// StateCirculatingSupply在给定的参数集返回Filecoin的准确循环供应。这在协议本身的任何地方都没有使用，只供外部使用。
StateCirculatingSupply(context.Context, types.TipSetKey) (abi.TokenAmount, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>abi.TokenAmount</li>
<li>error</li>
</ul>
<h3 id="13-46-StateVMCirculatingSupplyInternal"><a href="#13-46-StateVMCirculatingSupplyInternal" class="headerlink" title="13.46 StateVMCirculatingSupplyInternal"></a>13.46 StateVMCirculatingSupplyInternal</h3><pre><code>// StateVMCirculatingSupplyInternal返回一个近似的循环供应的Filecoin在给定的tipset。这是runtime接口向actor代码报告的值。
StateVMCirculatingSupplyInternal(context.Context, types.TipSetKey) (CirculatingSupply, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>CirculatingSupply</li>
<li>error</li>
</ul>
<h3 id="13-47-StateNetworkVersion"><a href="#13-47-StateNetworkVersion" class="headerlink" title="13.47 StateNetworkVersion"></a>13.47 StateNetworkVersion</h3><pre><code>// StateNetworkVersion返回给定tipset上的网络版本。
StateNetworkVersion(context.Context, types.TipSetKey) (network.Version, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>network.Version</li>
<li>error</li>
</ul>
<h2 id="14、Msig相关接口"><a href="#14、Msig相关接口" class="headerlink" title="14、Msig相关接口"></a>14、Msig相关接口</h2><ul>
<li><a href="https://github.com/filecoin-project/lotus/blob/master/api/api_full.go#L548" target="_blank" rel="noopener">source</a></li>
</ul>
<p>Msig方法用于与filecoin网络上的多签钱包交互。</p>
<pre><code>MsigGetAvailableBalance(context.Context, address.Address, types.TipSetKey) (types.BigInt, error)
MsigGetVestingSchedule(context.Context, address.Address, types.TipSetKey) (MsigVesting, error)
MsigGetVested(context.Context, address.Address, types.TipSetKey, types.TipSetKey) (types.BigInt, error)
MsigCreate(context.Context, uint64, []address.Address, abi.ChainEpoch, types.BigInt, address.Address, types.BigInt) (cid.Cid, error)
MsigPropose(context.Context, address.Address, address.Address, types.BigInt, address.Address, uint64, []byte) (cid.Cid, error)
MsigApprove(context.Context, address.Address, uint64, address.Address) (cid.Cid, error)
MsigApproveTxnHash(context.Context, address.Address, uint64, address.Address, address.Address, types.BigInt, address.Address, uint64, []byte) (cid.Cid, error)
MsigCancel(context.Context, address.Address, uint64, address.Address, types.BigInt, address.Address, uint64, []byte) (cid.Cid, error)
MsigAddPropose(context.Context, address.Address, address.Address, address.Address, bool) (cid.Cid, error)
MsigAddApprove(context.Context, address.Address, address.Address, uint64, address.Address, address.Address, bool) (cid.Cid, error)
MsigAddCancel(context.Context, address.Address, address.Address, uint64, address.Address, bool) (cid.Cid, error)
MsigSwapPropose(context.Context, address.Address, address.Address, address.Address, address.Address) (cid.Cid, error)
MsigSwapApprove(context.Context, address.Address, address.Address, uint64, address.Address, address.Address, address.Address) (cid.Cid, error)
MsigSwapCancel(context.Context, address.Address, address.Address, uint64, address.Address, address.Address) (cid.Cid, error)
MsigRemoveSigner(ctx context.Context, msig address.Address, proposer address.Address, toRemove address.Address, decrease bool) (cid.Cid, error)</code></pre><h3 id="14-1-MsigGetAvailableBalance"><a href="#14-1-MsigGetAvailableBalance" class="headerlink" title="14.1 MsigGetAvailableBalance"></a>14.1 MsigGetAvailableBalance</h3><pre><code>// MsigGetAvailableBalance返回可提取或使用的multisig&#39;s的余额的一部分
MsigGetAvailableBalance(context.Context, address.Address, types.TipSetKey) (types.BigInt, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>types.BigInt</li>
<li>error</li>
</ul>
<h3 id="14-2-MsigGetVestingSchedule"><a href="#14-2-MsigGetVestingSchedule" class="headerlink" title="14.2 MsigGetVestingSchedule"></a>14.2 MsigGetVestingSchedule</h3><pre><code>// MsigGetVestingSchedule返回给定multisig的Vesting细节。
MsigGetVestingSchedule(context.Context, address.Address, types.TipSetKey) (MsigVesting, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>MsigVesting</li>
<li>error</li>
</ul>
<h3 id="14-3-MsigGetVested"><a href="#14-3-MsigGetVested" class="headerlink" title="14.3 MsigGetVested"></a>14.3 MsigGetVested</h3><pre><code>// MsigGetVested返回在一定时期内在一个multisig中既得利益的FIL的数量。
// 它接受以下参数:&lt;multisig address&gt;, &lt;start epoch&gt;, &lt;end epoch&gt;
MsigGetVested(context.Context, address.Address, types.TipSetKey, types.TipSetKey) (types.BigInt, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>types.TipSetKey</li>
<li>types.TipSetKey</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>types.BigInt</li>
<li>error</li>
</ul>
<h3 id="14-4-MsigCreate"><a href="#14-4-MsigCreate" class="headerlink" title="14.4 MsigCreate"></a>14.4 MsigCreate</h3><pre><code>// MsigCreate返回multisig钱包。
// 它接受以下参数:&lt;required number of senders&gt;, &lt;approving addresses&gt;, &lt;unlock duration&gt; &lt;initial balance&gt;, &lt;sender address of the create msg&gt;, &lt;gas price&gt;
MsigCreate(context.Context, uint64, []address.Address, abi.ChainEpoch, types.BigInt, address.Address, types.BigInt) (cid.Cid, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>uint64</li>
<li>[]address.Address</li>
<li>abi.ChainEpoch</li>
<li>types.BigInt</li>
<li>address.Address</li>
<li>types.BigInt</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>cid.Cid</li>
<li>error</li>
</ul>
<h3 id="14-5-MsigPropose"><a href="#14-5-MsigPropose" class="headerlink" title="14.5 MsigPropose"></a>14.5 MsigPropose</h3><pre><code>// MsigPropose提议multisig message
// 它接受以下参数:&lt;multisig address&gt;, &lt;recipient address&gt;, &lt;value to transfer&gt;, &lt;sender address of the propose msg&gt;, &lt;method to call in the proposed message&gt;, &lt;params to include in the proposed message&gt;
MsigPropose(context.Context, address.Address, address.Address, types.BigInt, address.Address, uint64, []byte) (cid.Cid, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>address.Address</li>
<li>types.BigInt</li>
<li>address.Address</li>
<li>uint64</li>
<li>[]byte</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>cid.Cid</li>
<li>error</li>
</ul>
<h3 id="14-6-MsigApprove"><a href="#14-6-MsigApprove" class="headerlink" title="14.6 MsigApprove"></a>14.6 MsigApprove</h3><pre><code>// MsigApprove通过transaction ID批准之前提议的multisig消息。
// 它接受以下参数: &lt;multisig address&gt;, &lt;proposed transaction ID&gt; &lt;signer address&gt;
MsigApprove(context.Context, address.Address, uint64, address.Address) (cid.Cid, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>uint64</li>
<li>address.Address</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>cid.Cid</li>
<li>error</li>
</ul>
<h3 id="14-7-MsigApproveTxnHash"><a href="#14-7-MsigApproveTxnHash" class="headerlink" title="14.7 MsigApproveTxnHash"></a>14.7 MsigApproveTxnHash</h3><pre><code>// MsigApproveTxnHash批准之前提议的multisig消息，该消息使用transactionID和提议中使用的参数的散列指定。这种审批方法可以确保您只审批您认为的交易。
// 它接受以下参数&lt;multisig address&gt;, &lt;start epoch&gt;, &lt;end epoch&gt;
MsigApproveTxnHash(context.Context, address.Address, uint64, address.Address, address.Address, types.BigInt, address.Address, uint64, []byte) (cid.Cid, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>uint64</li>
<li>address.Address</li>
<li>address.Address</li>
<li>types.BigInt</li>
<li>address.Address</li>
<li>uint64</li>
<li>[]byte</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>cid.Cid</li>
<li>error</li>
</ul>
<h3 id="14-8-MsigCancel"><a href="#14-8-MsigCancel" class="headerlink" title="14.8 MsigCancel"></a>14.8 MsigCancel</h3><pre><code>//MsigCancel取消先前提出的multisig消息。
// 它接受以下参数：&lt;multisig address&gt;, &lt;proposed transaction ID&gt;, &lt;recipient address&gt;, &lt;value to transfer&gt;, &lt;sender address of the cancel msg&gt;, &lt;method to call in the proposed message&gt;, &lt;params to include in the proposed message&gt;
MsigCancel(context.Context, address.Address, uint64, address.Address, types.BigInt, address.Address, uint64, []byte) (cid.Cid, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>uint64</li>
<li>address.Address</li>
<li>types.BigInt</li>
<li>address.Address</li>
<li>uint64</li>
<li>[]byte</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>cid.Cid</li>
<li>error</li>
</ul>
<h3 id="14-9-MsigAddPropose"><a href="#14-9-MsigAddPropose" class="headerlink" title="14.9 MsigAddPropose"></a>14.9 MsigAddPropose</h3><pre><code>// msigaddproposal建议在multisig中添加一个singer
// 它接受以下参数：&lt;multisig address&gt;, &lt;sender address of the propose msg&gt;, &lt;new signer&gt;, &lt;whether the number of required signers should be increased&gt;
MsigAddPropose(context.Context, address.Address, address.Address, address.Address, bool) (cid.Cid, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>address.Address</li>
<li>address.Address</li>
<li>bool</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>cid.Cid</li>
<li>error</li>
</ul>
<h3 id="14-10-MsigAddApprove"><a href="#14-10-MsigAddApprove" class="headerlink" title="14.10 MsigAddApprove"></a>14.10 MsigAddApprove</h3><pre><code>// MsigAddApprove批准先前建议的AddSigner消息。
// 它接受以下参数：&lt;multisig address&gt;, &lt;sender address of the approve msg&gt;, &lt;proposed message ID&gt;, &lt;proposer address&gt;, &lt;new signer&gt;, &lt;whether the number of required signers should be increased&gt;
MsigAddApprove(context.Context, address.Address, address.Address, uint64, address.Address, address.Address, bool) (cid.Cid, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>address.Address</li>
<li>uint64</li>
<li>address.Address</li>
<li>address.Address</li>
<li>bool</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>cid.Cid</li>
<li>error</li>
</ul>
<h3 id="14-11-MsigAddCancel"><a href="#14-11-MsigAddCancel" class="headerlink" title="14.11 MsigAddCancel"></a>14.11 MsigAddCancel</h3><pre><code>// MsigAddCancel取消先前建议的AddSigner消息。
// 它接受以下参数： &lt;multisig address&gt;, &lt;sender address of the cancel msg&gt;, &lt;proposed message ID&gt;, &lt;new signer&gt;, &lt;whether the number of required signers should be increased&gt;
MsigAddCancel(context.Context, address.Address, address.Address, uint64, address.Address, bool) (cid.Cid, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>address.Address</li>
<li>uint64</li>
<li>address.Address</li>
<li>bool</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>cid.Cid</li>
<li>error</li>
</ul>
<h3 id="14-12-MsigSwapPropose"><a href="#14-12-MsigSwapPropose" class="headerlink" title="14.12 MsigSwapPropose"></a>14.12 MsigSwapPropose</h3><pre><code>// MsigSwapPropose建议在multisig中交换2个singers。
// 它接受以下参数：&lt;multisig address&gt;, &lt;sender address of the propose msg&gt;, &lt;old signer&gt;, &lt;new signer&gt;
MsigSwapPropose(context.Context, address.Address, address.Address, address.Address, address.Address) (cid.Cid, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>address.Address,</li>
<li>address.Address,</li>
<li>address.Address</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>cid.Cid</li>
<li>error</li>
</ul>
<h3 id="14-13-MsigSwapApprove"><a href="#14-13-MsigSwapApprove" class="headerlink" title="14.13 MsigSwapApprove"></a>14.13 MsigSwapApprove</h3><pre><code>// MsigSwapApprove批准先前提议的SwapSigner
// 它接受以下参数：&lt;multisig address&gt;, &lt;sender address of the approve msg&gt;, &lt;proposed message ID&gt;, &lt;proposer address&gt;, &lt;old signer&gt;, &lt;new signer&gt;
MsigSwapApprove(context.Context, address.Address, address.Address, uint64, address.Address, address.Address, address.Address) (cid.Cid, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>address.Address</li>
<li>uint64</li>
<li>address.Address</li>
<li>address.Address</li>
<li>address.Address</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>cid.Cid</li>
<li>error</li>
</ul>
<h3 id="14-14-MsigSwapCancel"><a href="#14-14-MsigSwapCancel" class="headerlink" title="14.14 MsigSwapCancel"></a>14.14 MsigSwapCancel</h3><pre><code>// MsigSwapCancel取消先前提出的SwapSigner消息。
// 它接受以下参数：&lt;multisig address&gt;, &lt;sender address of the cancel msg&gt;, &lt;proposed message ID&gt;, &lt;old signer&gt;, &lt;new signer&gt;
MsigSwapCancel(context.Context, address.Address, address.Address, uint64, address.Address, address.Address) (cid.Cid, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>address.Address</li>
<li>address.Address</li>
<li>uint64</li>
<li>address.Address</li>
<li>address.Address</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>cid.Cid</li>
<li>error</li>
</ul>
<h3 id="14-15-MsigRemoveSigner"><a href="#14-15-MsigRemoveSigner" class="headerlink" title="14.15 MsigRemoveSigner"></a>14.15 MsigRemoveSigner</h3><pre><code>// MsigRemoveSigner建议从multisig中删除签名者。
// 它接受进行更改的multisig，要发送消息的提出者地址，要删除的地址，以及一个指示签名阈值是否应该随地址删除一起降低1的布尔值。
MsigRemoveSigner(ctx context.Context, msig address.Address, proposer address.Address, toRemove address.Address, decrease bool) (cid.Cid, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>msig address.Address</li>
<li>proposer address.Address</li>
<li>toRemove address.Address</li>
<li>decrease bool</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>cid.Cid</li>
<li>error</li>
</ul>
<h2 id="15、Market相关接口"><a href="#15、Market相关接口" class="headerlink" title="15、Market相关接口"></a>15、Market相关接口</h2><ul>
<li><a href="https://github.com/filecoin-project/lotus/blob/master/api/api_full.go#L622" target="_blank" rel="noopener">source</a></li>
</ul>
<pre><code>MarketReserveFunds(ctx context.Context, wallet address.Address, addr address.Address, amt types.BigInt) (cid.Cid, error)
MarketReleaseFunds(ctx context.Context, addr address.Address, amt types.BigInt) error</code></pre><h3 id="15-1-MarketReserveFunds"><a href="#15-1-MarketReserveFunds" class="headerlink" title="15.1 MarketReserveFunds"></a>15.1 MarketReserveFunds</h3><pre><code>// MarketReserveFunds为交易储备资金。
MarketReserveFunds(ctx context.Context, wallet address.Address, addr address.Address, amt types.BigInt) (cid.Cid, error)</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>wallet address.Address</li>
<li>addr address.Address</li>
<li>amt types.BigInt</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>cid.Cid</li>
<li>error</li>
</ul>
<h3 id="15-2-MarketReleaseFunds"><a href="#15-2-MarketReleaseFunds" class="headerlink" title="15.2 MarketReleaseFunds"></a>15.2 MarketReleaseFunds</h3><pre><code>// MarketReleaseFunds释放MarketReserveFunds预留的资金。
MarketReleaseFunds(ctx context.Context, addr address.Address, amt types.BigInt) error</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>context.Context</li>
<li>addr address.Address</li>
<li>amt types.BigInt</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>error</li>
</ul>
<h2 id="16、Paych相关接口"><a href="#16、Paych相关接口" class="headerlink" title="16、Paych相关接口"></a>16、Paych相关接口</h2><ul>
<li><a href="https://github.com/filecoin-project/lotus/blob/master/api/api_full.go#L633" target="_blank" rel="noopener">source</a></li>
</ul>
<p>Paych方法用于与支付渠道的交互和管理。</p>
<pre><code>PaychGet(ctx context.Context, from, to address.Address, amt types.BigInt) (*ChannelInfo, error)
PaychGetWaitReady(context.Context, cid.Cid) (address.Address, error)
PaychAvailableFunds(ctx context.Context, ch address.Address) (*ChannelAvailableFunds, error)
PaychAvailableFundsByFromTo(ctx context.Context, from, to address.Address) (*ChannelAvailableFunds, error)
PaychList(context.Context) ([]address.Address, error)
PaychStatus(context.Context, address.Address) (*PaychStatus, error)
PaychSettle(context.Context, address.Address) (cid.Cid, error)
PaychCollect(context.Context, address.Address) (cid.Cid, error)
PaychAllocateLane(ctx context.Context, ch address.Address) (uint64, error)
PaychNewPayment(ctx context.Context, from, to address.Address, vouchers []VoucherSpec) (*PaymentInfo, error)
PaychVoucherCheckValid(context.Context, address.Address, *paych.SignedVoucher) error
PaychVoucherCheckSpendable(context.Context, address.Address, *paych.SignedVoucher, []byte, []byte) (bool, error)
PaychVoucherCreate(context.Context, address.Address, types.BigInt, uint64) (*VoucherCreateResult, error)
PaychVoucherAdd(context.Context, address.Address, *paych.SignedVoucher, []byte, types.BigInt) (types.BigInt, error)
PaychVoucherList(context.Context, address.Address) ([]*paych.SignedVoucher, error)
PaychVoucherSubmit(context.Context, address.Address, *paych.SignedVoucher, []byte, []byte) (cid.Cid, error)</code></pre><h2 id="17、Other：其他接口"><a href="#17、Other：其他接口" class="headerlink" title="17、Other：其他接口"></a>17、Other：其他接口</h2><ul>
<li><a href="https://github.com/filecoin-project/lotus/blob/master/api/api_full.go#L653" target="_blank" rel="noopener">source</a></li>
</ul>
<pre><code>CreateBackup(ctx context.Context, fpath string) error</code></pre><h3 id="17-1-CreateBackup"><a href="#17-1-CreateBackup" class="headerlink" title="17.1 CreateBackup"></a>17.1 CreateBackup</h3><pre><code>// CreateBackup根据指定的文件名创建节点备份。方法要求lotus daemon运行并且LOTUS_BACKUP_BASE_PATH环境变量设置为某个路径，并且调用CreateBackup时指定的路径在基本路径中
CreateBackup(ctx context.Context, fpath string) error</code></pre><p><strong>Parameters:</strong></p>
<ul>
<li>ctx context.Context</li>
<li>fpath string</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li>error</li>
</ul>
<p><img src="/2020/04/26/filecoin-lotus-fullnode-api/image-20201127112650515.png" alt="image-20201127112650515"></p>
<p>blocks表里按照height查找miner的中奖以及win_count</p>
<p>root@hos:~# lotus state read-state f01248<br>{<br>  “AllocatedSectors”: {<br>    “/“: “bafy2bzacedabt4anodvuztdmefirgoi47dsdqnjwgx2dpyazxrs4oj7tib4fc”<br>  },<br>  “CurrentDeadline”: 46,<br>  “Deadlines”: {<br>    “/“: “bafy2bzacebjtvyjxaplcgohu6s52hzl6etd2fmivcnbrpzv3dvoe6ce6e7akq”<br>  },<br>  “EarlyTerminations”: [<br>    0<br>  ],<br>  “FeeDebt”: “0”,<br>  “Info”: {<br>    “/“: “bafy2bzacedr4ow3wzogcsvavdq5brbukemd2j34fp54pezyllfxxbgnrwe2yq”<br>  },<br>  “InitialPledge”: “622509720772281475481367”,<br>  “LockedFunds”: “559976923035001977787178”,<br>  “PreCommitDeposits”: “276019658683124288457”,<br>  “PreCommittedSectors”: {<br>    “/“: “bafy2bzaceajoxidhuvyz4pvvlqgczymbzdan6kbyhouzxleuupgmgfomij7yo”<br>  },<br>  “PreCommittedSectorsExpiry”: {<br>    “/“: “bafy2bzacedmkbroyub3fplnvdwa7vkdabaeyrdgobyipg2f2kv2rrxszu5t2o”<br>  },<br>  “ProvingPeriodStart”: 269055,<br>  “Sectors”: {<br>    “/“: “bafy2bzacecrce6ufegvyfaxv7cecy7a6dntdfxd3hpwwahxkf525jyzijfc32”<br>  },<br>  “VestingFunds”: {<br>    “/“: “bafy2bzaceb6bbstuzntbb75l525v7vfp37ydsqchphmrbf4spke35fvahbwek”<br>  }<br>}</p>
<p>root@hos:~# lotus state read-state f01248<br>{<br>  “AllocatedSectors”: {<br>    “/“: “bafy2bzaceb2cnusu6wkbeuy4jkjiqmmix6hlwswiqh7qetfe6aaoxi6wcmaee”<br>  },<br>  “CurrentDeadline”: 5,<br>  “Deadlines”: {<br>    “/“: “bafy2bzacead52bql6vwnyr7jdt7sa3pylujljhm3tkdweupbhtvaoi3633j4m”<br>  },<br>  “EarlyTerminations”: [<br>    0<br>  ],<br>  “FeeDebt”: “0”,<br>  “Info”: {<br>    “/“: “bafy2bzacedr4ow3wzogcsvavdq5brbukemd2j34fp54pezyllfxxbgnrwe2yq”<br>  },<br>  “InitialPledge”: “623801503759457215345727”,<br>  “LockedFunds”: “559410768266754758222597”,<br>  “PreCommitDeposits”: “267788787238100317735”,<br>  “PreCommittedSectors”: {<br>    “/“: “bafy2bzacectmlovwirp6x7d6agjisj2tjphfgpmhtdfcik37mwkf2thzthro2”<br>  },<br>  “PreCommittedSectorsExpiry”: {<br>    “/“: “bafy2bzacecv2c3b24esaj6r64estzxn7pl4yggsp7xw3mewlqou3rji5phu6g”<br>  },<br>  “ProvingPeriodStart”: 271935,<br>  “Sectors”: {<br>    “/“: “bafy2bzaceang6sxkh3v45yvp23tvxwgxn64vwintxpleb7dcxogvnur55n3ao”<br>  },<br>  “VestingFunds”: {<br>    “/“: “bafy2bzacecrmp5unvv3fbymwo2wneicpyvia2dkga5yiluhvy34gc6qtgwbuk”<br>  }<br>}</p>
<p>lotus chain read-obj bafy2bzaceb6bbstuzntbb75l525v7vfp37ydsqchphmrbf4spke35fvahbwek</p>
<p>{“AllocatedSectors”:{“/“:”bafy2bzacea456askyutsf7uk4ta2q5aojrlcji4mhaqokbfalgvoq4ueeh4l2”},”CurrentDeadline”:0,”Deadlines”:{“/“:”bafy2bzaceakubxbluycf7ug7ve3o5yg2kwbhjaf65gtu5m4ethfrq2qxurtcy”},”EarlyTerminations”:[0],”Info”:{“/“:”bafy2bzaced23lstf3seqsq5mogtctlbxrskqzskxe2xs74unwtnrnhlc4exyw”},”InitialPledgeRequirement”:”0”,”LockedFunds”:”0”,”PreCommitDeposits”:”0”,”PreCommittedSectors”:{“/“:”bafy2bzaceamp42wmmgr2g2ymg46euououzfyck7szknvfacqscohrvaikwfay”},”PreCommittedSectorsExpiry”:{“/“:”bafy2bzacedswlcz5ddgqnyo3sak3jmhmkxashisnlpq6ujgyhe4mlobzpnhs6”},”ProvingPeriodStart”:3004,”Sectors”:{“/“:”bafy2bzacedswlcz5ddgqnyo3sak3jmhmkxashisnlpq6ujgyhe4mlobzpnhs6”},”VestingFunds”:{“/“:”bafy2bzacealbq6s7ptdud6gvpc2yv54opwotncjlqjxmzb2q2rnjxv753rwdc”}}</p>
<p>{“AllocatedSectors”:{“/“:”bafy2bzacea456askyutsf7uk4ta2q5aojrlcji4mhaqokbfalgvoq4ueeh4l2”},”CurrentDeadline”:0,”Deadlines”:{“/“:”bafy2bzaceakubxbluycf7ug7ve3o5yg2kwbhjaf65gtu5m4ethfrq2qxurtcy”},”EarlyTerminations”:[0],”Info”:{“/“:”bafy2bzaced23lstf3seqsq5mogtctlbxrskqzskxe2xs74unwtnrnhlc4exyw”},”InitialPledgeRequirement”:”0”,”LockedFunds”:”0”,”PreCommitDeposits”:”0”,”PreCommittedSectors”:{“/“:”bafy2bzaceamp42wmmgr2g2ymg46euououzfyck7szknvfacqscohrvaikwfay”},”PreCommittedSectorsExpiry”:{“/“:”bafy2bzacedswlcz5ddgqnyo3sak3jmhmkxashisnlpq6ujgyhe4mlobzpnhs6”},”ProvingPeriodStart”:3004,”Sectors”:{“/“:”bafy2bzacedswlcz5ddgqnyo3sak3jmhmkxashisnlpq6ujgyhe4mlobzpnhs6”},”VestingFunds”:{“/“:”bafy2bzacealbq6s7ptdud6gvpc2yv54opwotncjlqjxmzb2q2rnjxv753rwdc”}}</p>
<p>{“AllocatedSectors”:{“/“:”bafy2bzacec3kfucxpfukfcnlhz73eymnjhirmlrc5z2nop2plbqvocsxj66ra”},”CurrentDeadline”:0,”Deadlines”:{“/“:”bafy2bzacecebj2awf7slcrrl7hrgz6ox2rzq4zscqxv27kwofmkjtytdoweyo”},”EarlyTerminations”:[0],”Info”:{“/“:”bafy2bzacear2wkgakll545dlkslu33izpqhy3htxuxjliugcw6rzqne4nsvzq”},”InitialPledgeRequirement”:”312499995095859200”,”LockedFunds”:”1864080807098733412498”,”PreCommitDeposits”:”0”,”PreCommittedSectors”:{“/“:”bafy2bzaceamp42wmmgr2g2ymg46euououzfyck7szknvfacqscohrvaikwfay”},”PreCommittedSectorsExpiry”:{“/“:”bafy2bzaceaeadzbk3fhkojehlssencvwed4qp5f7jtvc6par57rwguukzpgry”},”ProvingPeriodStart”:658,”Sectors”:{“/“:”bafy2bzaceatqbymaxk7ixlimx6j7ro27syuqaxon6uslpivbglxe7f4svfpto”},”VestingFunds”:{“/“:”bafy2bzaceck2d2xinmmtijd5ocmxbzzvollghiz4awed5fiqsrolzm275i3gs”}}</p>
<p>{“AllocatedSectors”:{“/“:”bafy2bzacec3kfucxpfukfcnlhz73eymnjhirmlrc5z2nop2plbqvocsxj66ra”},”CurrentDeadline”:6,”Deadlines”:{“/“:”bafy2bzacecebj2awf7slcrrl7hrgz6ox2rzq4zscqxv27kwofmkjtytdoweyo”},”EarlyTerminations”:[0],”Info”:{“/“:”bafy2bzacear2wkgakll545dlkslu33izpqhy3htxuxjliugcw6rzqne4nsvzq”},”InitialPledgeRequirement”:”312499995095859200”,”LockedFunds”:”38367498280698840359048”,”PreCommitDeposits”:”0”,”PreCommittedSectors”:{“/“:”bafy2bzaceamp42wmmgr2g2ymg46euououzfyck7szknvfacqscohrvaikwfay”},”PreCommittedSectorsExpiry”:{“/“:”bafy2bzaceaeadzbk3fhkojehlssencvwed4qp5f7jtvc6par57rwguukzpgry”},”ProvingPeriodStart”:658,”Sectors”:{“/“:”bafy2bzaceatqbymaxk7ixlimx6j7ro27syuqaxon6uslpivbglxe7f4svfpto”},”VestingFunds”:{“/“:”bafy2bzacebdtte6ej3ndvvxhyyt5ezgby46zvgqj7tf57kdetbb5jdiqo3bm2”}}</p>
<p>{“AllocatedSectors”:{“/“:”bafy2bzacec3kfucxpfukfcnlhz73eymnjhirmlrc5z2nop2plbqvocsxj66ra”},”CurrentDeadline”:6,”Deadlines”:{“/“:”bafy2bzacecebj2awf7slcrrl7hrgz6ox2rzq4zscqxv27kwofmkjtytdoweyo”},”EarlyTerminations”:[0],”Info”:{“/“:”bafy2bzacear2wkgakll545dlkslu33izpqhy3htxuxjliugcw6rzqne4nsvzq”},”InitialPledgeRequirement”:”312499995095859200”,”LockedFunds”:”37838070939143773040708”,”PreCommitDeposits”:”0”,”PreCommittedSectors”:{“/“:”bafy2bzaceamp42wmmgr2g2ymg46euououzfyck7szknvfacqscohrvaikwfay”},”PreCommittedSectorsExpiry”:{“/“:”bafy2bzaceaeadzbk3fhkojehlssencvwed4qp5f7jtvc6par57rwguukzpgry”},”ProvingPeriodStart”:658,”Sectors”:{“/“:”bafy2bzaceatqbymaxk7ixlimx6j7ro27syuqaxon6uslpivbglxe7f4svfpto”},”VestingFunds”:{“/“:”bafy2bzacebbg32hm5lnmtla7w4clregfyknd7mj7zr2su6bjdld4sde5zvvgq”}}</p>
<p>{“AllocatedSectors”:{“/“:”bafy2bzacec3kfucxpfukfcnlhz73eymnjhirmlrc5z2nop2plbqvocsxj66ra”},”CurrentDeadline”:0,”Deadlines”:{“/“:”bafy2bzacecebj2awf7slcrrl7hrgz6ox2rzq4zscqxv27kwofmkjtytdoweyo”},”EarlyTerminations”:[0],”Info”:{“/“:”bafy2bzacear2wkgakll545dlkslu33izpqhy3htxuxjliugcw6rzqne4nsvzq”},”InitialPledgeRequirement”:”312499995095859200”,”LockedFunds”:”1486913487001229156804”,”PreCommitDeposits”:”0”,”PreCommittedSectors”:{“/“:”bafy2bzaceamp42wmmgr2g2ymg46euououzfyck7szknvfacqscohrvaikwfay”},”PreCommittedSectorsExpiry”:{“/“:”bafy2bzaceaeadzbk3fhkojehlssencvwed4qp5f7jtvc6par57rwguukzpgry”},”ProvingPeriodStart”:658,”Sectors”:{“/“:”bafy2bzaceatqbymaxk7ixlimx6j7ro27syuqaxon6uslpivbglxe7f4svfpto”},”VestingFunds”:{“/“:”bafy2bzaceb2wgzosl64cjafe2yt5hiil3a2kab443wxkqns5tm4x4bpnnrpgg”}}</p>
<p>{“AllocatedSectors”:{“/“:”bafy2bzacec3kfucxpfukfcnlhz73eymnjhirmlrc5z2nop2plbqvocsxj66ra”},”CurrentDeadline”:0,”Deadlines”:{“/“:”bafy2bzacecebj2awf7slcrrl7hrgz6ox2rzq4zscqxv27kwofmkjtytdoweyo”},”EarlyTerminations”:[0],”Info”:{“/“:”bafy2bzacear2wkgakll545dlkslu33izpqhy3htxuxjliugcw6rzqne4nsvzq”},”InitialPledgeRequirement”:”312499995095859200”,”LockedFunds”:”623779110704376371288”,”PreCommitDeposits”:”0”,”PreCommittedSectors”:{“/“:”bafy2bzaceamp42wmmgr2g2ymg46euououzfyck7szknvfacqscohrvaikwfay”},”PreCommittedSectorsExpiry”:{“/“:”bafy2bzaceaeadzbk3fhkojehlssencvwed4qp5f7jtvc6par57rwguukzpgry”},”ProvingPeriodStart”:658,”Sectors”:{“/“:”bafy2bzaceatqbymaxk7ixlimx6j7ro27syuqaxon6uslpivbglxe7f4svfpto”},”VestingFunds”:{“/“:”bafy2bzacebpdufvkcfjmrv2cuxlmtkam4muj2pqtk2shgzer5nnrxwhmwsbf6”}}</p>
<p>{“AllocatedSectors”:{“/“:”bafy2bzacec3kfucxpfukfcnlhz73eymnjhirmlrc5z2nop2plbqvocsxj66ra”},”CurrentDeadline”:20,”Deadlines”:{“/“:”bafy2bzacecebj2awf7slcrrl7hrgz6ox2rzq4zscqxv27kwofmkjtytdoweyo”},”EarlyTerminations”:[0],”Info”:{“/“:”bafy2bzacear2wkgakll545dlkslu33izpqhy3htxuxjliugcw6rzqne4nsvzq”},”InitialPledgeRequirement”:”312499995095859200”,”LockedFunds”:”277146830514602748944950”,”PreCommitDeposits”:”0”,”PreCommittedSectors”:{“/“:”bafy2bzaceamp42wmmgr2g2ymg46euououzfyck7szknvfacqscohrvaikwfay”},”PreCommittedSectorsExpiry”:{“/“:”bafy2bzaceaeadzbk3fhkojehlssencvwed4qp5f7jtvc6par57rwguukzpgry”},”ProvingPeriodStart”:6418,”Sectors”:{“/“:”bafy2bzaceatqbymaxk7ixlimx6j7ro27syuqaxon6uslpivbglxe7f4svfpto”},”VestingFunds”:{“/“:”bafy2bzacebeayd6hvuawxpvdz6hymjyildkrzlkoueodlz7mwt6ilmaib5o6e”}}</p>
<p>actor_states    head   关联   actors  head</p>
<p>actors  parentroot    对应blocks    parentroot</p>
<p>blocks根据高度获取parentroot，然后到actors里找到head，再到actor_states里面找到对应的值</p>
<p>watch cat $(ls ~/log/*log | tail -n 1) | grep “block not found” | wc -l</p>
<p>{“AllocatedSectors”:{“/“:”bafy2bzacec3kfucxpfukfcnlhz73eymnjhirmlrc5z2nop2plbqvocsxj66ra”},”CurrentDeadline”:1,”Deadlines”:{“/“:”bafy2bzacecebj2awf7slcrrl7hrgz6ox2rzq4zscqxv27kwofmkjtytdoweyo”},”EarlyTerminations”:[0],”Info”:{“/“:”bafy2bzacear2wkgakll545dlkslu33izpqhy3htxuxjliugcw6rzqne4nsvzq”},”InitialPledgeRequirement”:”312499995095859200”,”LockedFunds”:”26560348586748358971313”,”PreCommitDeposits”:”0”,”PreCommittedSectors”:{“/“:”bafy2bzaceamp42wmmgr2g2ymg46euououzfyck7szknvfacqscohrvaikwfay”},”PreCommittedSectorsExpiry”:{“/“:”bafy2bzaceaeadzbk3fhkojehlssencvwed4qp5f7jtvc6par57rwguukzpgry”},”ProvingPeriodStart”:658,”Sectors”:{“/“:”bafy2bzaceatqbymaxk7ixlimx6j7ro27syuqaxon6uslpivbglxe7f4svfpto”},”VestingFunds”:{“/“:”bafy2bzaceciat4wzrqqz7hxalvvczt7wozs3hyz2mgemvpgdqzyjoxbv7xagm”}}</p>

            </div>
            <hr />
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.88rem;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform: scale(1.3);
        -webkit-transform: scale(1.3);
        -o-transform: scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-large waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fa fa-close"></i></a>
            <h4 class="reward-title">
                写作不易，客官能否打赏一杯奶茶？
            </h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
                    

                        <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

                            

    <div class="reprint" id="reprint-statement">
        <p class="reprint-tip">
            <i class="fa fa-exclamation-triangle"></i>&nbsp;&nbsp;
            <span>转载规则</span>
        </p>
        
            <div class="center-align">
                <a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.zh">
                    <img alt=""
                         style="border-width:0"
                         src="https://i.creativecommons.org/l/by/4.0/88x31.png"/>
                </a>
            </div>
            <br/>
            <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text"
                  property="dct:title" rel="dct:type">
                    《lotus FullNodeAPI接口分析》
                </span> 由
            <a xmlns:cc="http://creativecommons.org/ns#" href="/2020/04/26/filecoin-lotus-fullnode-api/" property="cc:attributionName"
               rel="cc:attributionURL">
                bill
            </a> 采用
            <a rel="license" href="https://creativecommons.org/licenses/by/4.0/deed.zh">
                知识共享署名 4.0 国际许可协议
            </a>进行许可。
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>


        </div>
    </div>

    
        <link rel="stylesheet" href="/libs/gitalk/gitalk.css">
<link rel="stylesheet" href="/css/my-gitalk.css">

<div class="card gitalk-card" data-aos="fade-up">
    <div id="gitalk-container" class="card-content"></div>
</div>

<script src="/libs/gitalk/gitalk.min.js"></script>
<script>
    let gitalk = new Gitalk({
        clientID: '查教程获取',
        clientSecret: '查教程获取',
        repo: 'billbliu.github.io',
        owner: 'billbliu',
        admin: "billbliu",
        id: '2020/04/26/filecoin-lotus-fullnode-api/',
        distractionFreeMode: false  // Facebook-like distraction free mode
    });

    gitalk.render('gitalk-container');
</script>
            

                

                            

                                        

                                                    
                                                        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments input[type=text],
    #vcomments input[type=email],
    #vcomments input[type=url],
    #vcomments textarea {
        box-sizing: border-box;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #42b983;
        font-weight: 500;
        text-decoration: underline;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div id="vcomments" class="card-content"></div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<!-- <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script> -->

<script>
    new Valine({
        el: '#vcomments',
        appId: '查教程获取',
        appKey: '查教程获取',
        notify: 'false' === 'true',
        verify: 'false' === 'true',
        visitor: 'false' === 'true',
        avatar: 'wavatar',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: '如果你没有GitHub账号，还可以在这里评论啦！'
    });
</script>

                                                            

                                                                

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/04/26/vscode-debug-use/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/16.jpg" class="responsive-img" alt="使用 VSCode 调试 Golang">
                        
                        <span class="card-title">使用 VSCode 调试 Golang</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            [译] 使用 VSCode 调试 Golang原文来自于: vscode-go
1、安装 Delve有两种安装 Delve 的方式:

支持命令Go: Install/Update Tools 选择dlv, 安装/更新 delve

(注:
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2020-04-26
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/安装配置/" class="post-category" target="_blank">
                                    安装配置
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/vscode/" target="_blank">
                        <span class="chip bg-color">vscode</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/04/11/databases-tools-01/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/16.jpg" class="responsive-img" alt="数据表结构导出md表格工具：mysql_markdown">
                        
                        <span class="card-title">数据表结构导出md表格工具：mysql_markdown</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            用途将数据库的表结构导出未markdown表格，这样我只用维护数据库的备注，然后每次更新文档的时候从数据库里导出表格：
项目地址
github：https://github.com/billbliu/mysql_markdown

使用方法
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2020-04-11
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/数据库/" class="post-category" target="_blank">
                                    数据库
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/tools/" target="_blank">
                        <span class="chip bg-color">tools</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>


    <script>
        $('#articleContent').on('copy', function (e) {
            // IE8 or earlier browser is 'undefined'
            if (typeof window.getSelection === 'undefined') return;

            var selection = window.getSelection();
            // if the selection is short let's not annoy our users.
            if (('' + selection).length < Number.parseInt('120')) {
                return;
            }

            // create a div outside of the visible area and fill it with the selected text.
            var bodyElement = document.getElementsByTagName('body')[0];
            var newdiv = document.createElement('div');
            newdiv.style.position = 'absolute';
            newdiv.style.left = '-99999px';
            bodyElement.appendChild(newdiv);
            newdiv.appendChild(selection.getRangeAt(0).cloneContents());

            // we need a <pre> tag workaround.
            // otherwise the text inside "pre" loses all the line breaks!
            if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
                newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
            }

            var url = document.location.href;
            newdiv.innerHTML += '<br />'
                + '来源: bill的博客<br />'
                + '作者: bill<br />'
                + '链接: <a href="' + url + '">' + url + '</a><br />'
                + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

            selection.selectAllChildren(newdiv);
            window.setTimeout(function () { bodyElement.removeChild(newdiv); }, 200);
        });
    </script>

    <!--<script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script>
    <script>
        const btw = new BTWPlugin();
        btw.init({
            id: 'artDetail',
            blogId: '20962-1585405055583-879',
            name: '算法码上来',
            qrcode: 'https://godweiyang.com/medias/gzh.jpg',
            keyword: 'VIP',
        });
    </script>
-->
    
    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fa fa-list"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>


<script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\(', '\)']]}
    });
</script>

<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>
<!-- 代码语言 -->
<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>
<!-- 代码块复制 -->
<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>
<script type="text/javascript" src="/libs/codeBlock/clipboard.min.js"></script>
<!-- 代码块收缩 -->
<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script> 
<!-- 代码块折行 -->
<style type="text/css">code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }</style>


    <footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            &copy; Bill. 版权所有

            
                &nbsp;<i class="fa fa-area-chart"></i>&nbsp;站点总字数:&nbsp;
                <span class="white-color">
                    445.9k
                </span>
                

                    <br>
                    <span id="sitetime"></span>

                    
                        
        </div>
        <div class="col s12 m4 l4 social-link ">
            
    <a href="https://github.com/billbliu" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fa fa-github"></i>
    </a>



    <a href="mailto:billliu201919@gmail.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>





    <a href="http://wpa.qq.com/msgrd?v=3&uin=1321531943&site=qq&menu=yes" class="tooltipped" target="_blank" data-tooltip="访问我的知乎" data-position="top" data-delay="50">
        <i class="fa fa-qq"></i>
    </a>





    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fa fa-rss"></i>
    </a>

        </div>
    </div>
</footer>

<div class="progress-bar"></div>

<!-- 不蒜子计数初始值纠正 -->
<script>
    $(document).ready(function () {

        // 50ms周期检测函数
        var int = setInterval(fixCount, 50);
        var pvcountOffset = 80000;
        var uvcountOffset = 20000;

        function fixCount() {
            if (document.getElementById("busuanzi_container_site_pv").style.display != "none") {
                $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + pvcountOffset);
                clearInterval(int);
            }
            if ($("#busuanzi_container_site_pv").css("display") != "none") {
                $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + uvcountOffset); // 加上初始数据 
                clearInterval(int);
            }
        }
    });
</script>

<script language=javascript>
    function siteTime() {
        window.setTimeout("siteTime()", 1000);
        var seconds = 1000;
        var minutes = seconds * 60;
        var hours = minutes * 60;
        var days = hours * 24;
        var years = days * 365;
        var today = new Date();
        var todayYear = today.getFullYear();
        var todayMonth = today.getMonth() + 1;
        var todayDate = today.getDate();
        var todayHour = today.getHours();
        var todayMinute = today.getMinutes();
        var todaySecond = today.getSeconds();
        /* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
        year - 作为date对象的年份，为4位年份值
        month - 0-11之间的整数，做为date对象的月份
        day - 1-31之间的整数，做为date对象的天数
        hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
        minutes - 0-59之间的整数，做为date对象的分钟数
        seconds - 0-59之间的整数，做为date对象的秒数
        microseconds - 0-999之间的整数，做为date对象的毫秒数 */
        var t1 = Date.UTC(2021, 03, 01, 00, 00, 00); //北京时间2018-2-13 00:00:00
        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
        var diff = t2 - t1;
        var diffYears = Math.floor(diff / years);
        var diffDays = Math.floor((diff / days) - diffYears * 365);
        var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
        var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes);
        var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours - diffMinutes * minutes) / seconds);
        document.getElementById("sitetime").innerHTML = "本站已运行 " + diffYears + " 年 " + diffDays + " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
    }/*因为建站时间还没有一年，就将之注释掉了。需要的可以取消*/
    siteTime();
</script>

    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <script type="text/javascript"> var OriginTitile = document.title, st; document.addEventListener("visibilitychange", function () { document.hidden ? (document.title = "Σ(っ °Д °;)っ喔哟，崩溃啦！", clearTimeout(st)) : (document.title = "φ(゜▽゜*)♪咦，又好了！", st = setTimeout(function () { document.title = OriginTitile }, 3e3)) })
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=查教程获取"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', '查教程获取');
</script>



    
    <script src="/libs/others/clicklove.js"></script>
    

    

    <!-- 雪花特效 -->
    

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"position":"left","width":200,"height":400},"mobile":{"show":false},"react":{"opacity":0.7}});</script></body>

</html>